<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="collective.cover">

  <body tal:define="is_compose view/is_compose_mode">
    <strong tal:condition="is_compose">Transregional select</strong>

    <!-- <h2 tal:content="python: view.data.get('title')">Title here</h2> -->

    <dl tal:condition="view/is_compose_mode">
      <dt>Transnational regions select</dt>
      <dd>
        <select class="form-control"></select>
      </dd>
    </dl>

    <div class="cover-richtext-tile tile-content" tal:condition="not: is_compose">
      <script>
      jQuery(document).ready(function(){
        $("#trans-region-select").change(function(){
          var url = $(this).val();
          if (url.length) {
            document.location = url;
          }
        });
      });
      </script>

      <select id="trans-region-select" class="form-control">
        <option value="">Choose a region</option>
        <option
          tal:repeat="region view/regions"
          tal:attributes="value region/url"
          tal:content="region/title" >1</option>
      </select>

      <div style="padding-top: 1em" class="region-countries">
        <h5>Region's countries:</h5>
        <tal:rep tal:repeat="info view/countries">
          <a href="" tal:omit-tag="python: not info[1]"
            tal:attributes="href python:info[1]"
            tal:content="python: info[0]">
            UK
          </a>
          <span tal:condition="not: repeat/info/end">, </span>
        </tal:rep>
      </div>
    </div>
  </body>
</html>
