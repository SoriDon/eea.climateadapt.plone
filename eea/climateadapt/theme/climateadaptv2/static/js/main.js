$(document).ready(function(){function a(){var a=$(".content-container").width(),b=$(window).width(),c=(b-a)/2;return c}function b(){$(".slider .slick-prev").css("left",function(){return a()+"px"}),$(".slider .slick-next").css("left",function(){return a()+45+"px"}),$(".slider-caption").css("right",function(){return a()+"px"})}function c(a,b){for(var b=$(b),a=$(a),c=b.width(),d=a.outerWidth(!0),e=a.index(),f=0,g=b.find("li"),h=0;h<e;h++)f+=$(g[h]).outerWidth(!0);b.animate({scrollLeft:Math.max(0,f-(c-d)/2)},500)}function d(a){window.matchMedia("(max-width: 480px)").matches&&$.each($(".content-container table"),function(a,b){"DIV"!==$(b).parent().prop("tagName")?$(b).wrapAll('<div style="overflow-x: auto;width: 86vw; "></div>'):$(b).parent().css({"overflow-x":"auto",width:"86vw"})})}function e(){$.each($("#content .cover-richtext-tile.tile-content:not(aceitem-urban-menu-tile) ul > li"),function(a,b){var c=$(b),d=c.parent(),e=d.attr("class");void 0===e||e.indexOf("menu-urban-sub")||e.indexOf("menu-urban")||e.indexOf("aceitem-search-tile-listing")||0!==d.find("ul").length||!(c.find("a").length>0)||c.hasClass("fa")||c.addClass("fa fa-angle-double-right")})}function f(){$(".subsection-tools-general.subsection-tools-general-index_html ul li").removeClass("fa").removeClass("fa-angle-double-right"),$(".subsection-adaptation-information-climate-services.subsection-adaptation-information-climate-services-climate-services .tile-content ul li.fa.fa-angle-double-right").removeClass("fa").removeClass("fa-angle-double-right"),($(".subsection-adaptation-information-adaptation-measures-index_html .aceitem-search-tile").length>0||$(".subsection-adaptation-information-climate-services.subsection-adaptation-information-climate-services-climate-services .aceitem-search-tile").length>0)&&k(),$(".subsection-adaptation-information-adaptation-measures-index_html").length>0&&$.each($(".aceitem-search-tile li ul li"),function(a,b){var c=$(b).find("a").prop("outerHTML");$(b).replaceWith('<li class="fa fa-angle-double-right">'+c+"</li>")})}function g(){if(L){var a=$("#content-core .column.col-md-9 > div");$("#content-core .column.col-md-9").prepend('<div class="content-column"></div>'),$("#content-core .column.col-md-9 .content-column").append(a),$(" #content-core .content-column").append($(".subsection-cities-index_html #document-action-download_pdf")),$("#document-action-download_pdf").css({display:"block",clear:"both","float":"none"}),$("#document-action-download_pdf").wrap("<ul></ul>");var b=$("#content-core .column.col-md-9 .tile-default").siblings();$("#content-core div.column.col-md-9 .content-column").append('<div class="row"></div>'),$("#content-core div.column.col-md-9 .content-column > .row").append(b)}}function h(){var a=[".subsection-cities.subsection-cities-index_html .aceitem-search-tile",".subsection-adaptation-information-vulnerabilities-and-risks-index_html .aceitem-search-tile",".subsection-adaptation-information-adaptation-measures-index_html .aceitem-search-tile",".subsection-adaptation-information-observations-and-scenarios-index_html .aceitem-search-tile"];$.each(a,function(a,b){$(b).parent().parent().prepend('<div class="content-sidebar"></div>');var c=$(b).parent().parent().find(".content-sidebar").siblings();$(b).parent().parent().find(".content-sidebar").append(c)})}function i(){$(".subsection-adaptation-information-observations-and-scenarios-index_html .aceitem-search-tile").length>0&&k()}function j(){$(".subsection-adaptation-information-vulnerabilities-and-risks-index_html .aceitem-search-tile").length>0&&k()}function k(){$("#content").css({"background-color":"transparent",padding:0,margin:0,border:0}),$($("#content-core .column")[0]).prepend('<div class="content-column"></div>'),$("#content-core .content-column").append($("#content-core .content-column").siblings()),$("#content-core .content-column").append('<div class="clearfix"></div>'),$("#content-core .content-column").append($(" #document-action-download_pdf"))}function l(){$.each($(".content-column"),function(a,b){$(b).find(".tile").length>1&&$(b).find(".tile-default").css({"padding-bottom":"2rem","border-bottom":"1px solid #eee","margin-bottom":"2.5rem"})})}function m(){e(),f(),g(),j(),i(),h(),l()}$(".slider").slick&&$(".slider").slick({infinite:!0,speed:500,fade:!0,slidesToShow:1,dots:!0,autoplay:!0,autoplaySpeed:4e3}),$(".slider .slick-prev").css("left",function(){return a()+"px"}),$(".slider .slick-next").css("left",function(){return a()+45+"px"}),$(".slider-caption").css("right",function(){return a()+"px"});var n;$(window).resize(function(){clearTimeout(n),n=setTimeout(b,500)}),$("ul.nav-tabs a").click(function(a){$(this).tab("show"),a.preventDefault()}),$(".main-nav-tabs li a").click(function(){var a=$(this).parent();c(a,".main-tab-heading .main-nav-tabs")}),$(".action-btn").each(function(){$(this).hover(function(){$(this).hasClass("regional-btn")&&$(this).siblings(".action-bubble").toggleClass("regional-bubble"),$(this).hasClass("transnational-btn")&&$(this).siblings(".action-bubble").toggleClass("transnational-bubble"),$(this).hasClass("national-btn")&&$(this).siblings(".action-bubble").toggleClass("national-bubble")})}),$(".dynamic-area .ast-step-wrapper").hover(function(){$(this).children(".ast-circle").css({"background-color":"#FFD554",border:"2px solid #F2C94C",transform:"scale(1.08)",color:"#4F4F4F"}),$(this).children(".step-text").css({"background-color":"#FFD554",transform:"scale(1.08)"})},function(){$(this).children(".ast-circle").css({"background-color":"#B8D42F",border:"2px solid #A5BF26",transform:"scale(1)",color:"#fff"}),$(this).children(".step-text").css({"background-color":"#f5f5f5",transform:"scale(1)"})}),$(".close-tab-pane").click(function(){var a=$(this).closest(".policies-tab-content"),b=$(this).closest(".sub-tab-section");b.find(".action-flex-item").removeClass("active"),a.removeClass("active")}),$(".mobile-menu i").click(function(){return $("body").toggleClass("no-ovf"),$(this).toggleClass("fa-bars fa-times"),$(".header").toggleClass("mobile-header"),$(".header .main-nav, .top-menu-content").toggleClass("nav-toggle"),!1}),$(".angle-down-icon").click(function(){$(this).parent().siblings(".sub-menu-wrapper").toggle()}),$("#user-name").click(function(a){a.preventDefault()});var o=$(".main-nav").width();$(".main-nav li").mouseenter(function(){var a=$(this).children(".sub-menu-wrapper").width();if($(this).find(".sub-menu-wrapper").length>0)var b=$(this).children(".sub-menu-wrapper").offset().left;o-(a+b)<0&&$(this).children(".sub-menu-wrapper").css({right:0,left:"auto"})});var p=$(".main-nav-item");p.each(function(){$(this).find(".sub-sub-menu-wrapper").length>0&&$(this).find(".sub-menu-wrapper").css("column-count","2")}),$(".share-your-info-ace-button button").addClass("standard-button primary-button"),$("#document-action-download_pdf").find("a").addClass("standard-button secondary-button"),$("#login-form .formControls input").addClass("standard-button secondary-button");var q,r=window.location.pathname,s=r.split("/");q=0==s[s.length-1].length?s[s.length-2]:s[s.length-1];var t="subsection-sector-policies-"+q,u="subsection-transnational-regions-"+q,v="subsection-countries-"+q,w=$("body").attr("class").split(/\s+/);$.each(w,function(a,b){b===t&&$("body").addClass("eu-policy-page"),b===u&&$("body").addClass("region-page"),b===v&&$("body").addClass("country-page")});var x=$(".eu-policy-page").length>0,y=$(".region-page").length>0,z=$(".country-page").length>0;(x||y)&&($(".region-page .column.col-md-2").removeClass("col-md-2").addClass("col-md-3"),$(".region-page .column.col-md-10").removeClass("col-md-10").addClass("col-md-9"),$(".region-page #content-core .row").prepend($(".column.col-md-9")),$(".column.col-md-9").children().wrapAll('<div class="content-column"/>'),$(".column.col-md-3").children().wrapAll('<div class="content-sidebar"/>'),$(".content-column").find("img").closest(".tile-content").addClass("main-tile-content"),$(".content-column").children(".col-md-4").wrapAll('<div class="row"/>'),$("#document-action-download_pdf").parent().appendTo(".content-column"),$(".content-column").prepend($("#viewlet-below-content-title"))),$(".region-page #trans-region-select").siblings("div").addClass("region-countries");var A=$(".region-countries").children("strong");if(A.each(function(){$(this).replaceWith($("<h5>"+this.innerHTML+"</h5>"))}),x){var B=$(".read_more_second").children("h2");B.each(function(){$(this).replaceWith($("<p><strong>"+this.innerHTML+"</strong><p>"))}),$(".main-tile-content").prepend('<div class="flex-wrapper"/>'),$(".flex-wrapper").append([$(".main-tile-content img"),$(".read_more_first")]);var C=$(".main-tile-content").children("h2");$(".main-tile-content").prepend([C,$(".main-tile-content").children().find("h2")]);var D=$(".content-sidebar .image-inline").parent(),E=$(".main-tile-content h2").text();D.html(function(a,b){return b.replace(/&nbsp;/g,"")}),$(".column.col-md-3").prepend(D),$(".column.col-md-3 .image-inline").parent().append('<div class="factsheet-pdf"><i class="fa fa-angle-double-right"></i><div class="factsheet-title">Factsheet on <span>'+E+"</span></div></div>"),$(".column.col-md-3 .image-inline").hide()}var F=$(".subsection-transnational-regions-baltic-sea-region-adaptation").length>0,G=$(".subsection-transnational-regions-carpathian-mountains").length>0;(F||G)&&($("body").addClass("region-subpage"),$("#content-core .column.col-md-3").remove(),$("#content-core .column.col-md-9").removeClass("col-md-9"),$(".tile-content").addClass("clearfix"),$(function(){var a=window.location.pathname,a=a.substring(a.lastIndexOf("/")+1,a.length);$(".cover-section_nav-tile a").each(function(){var b=$(this).attr("href"),b=b.substring(b.lastIndexOf("/")+1,b.length);b.indexOf(a)!==-1&&$(this).addClass("active-nav")})})),z&&($(".column.col-md-10").parents(".row").removeClass("row").addClass("country-wrapper"),$(".column.col-md-2").removeClass("col-md-2"),$(".column.col-md-10").removeClass("col-md-10"),$(".sweet-tabs").attr("id","country-tab"),$(".country-wrapper .column:first-child").addClass("country-header-map"),$(".country-wrapper .column:nth-child(2)").addClass("country-content"),$(".country-select-tile").parent().addClass("countries-dropdown"),$(".country-select-tile img").remove(),$(".country-header-map").append($('<div class="country-map">')),$(".country-content .last-update-tile").addClass("clearfix").prependTo(".tab-pane"),$("#document-action-download_pdf").parent().appendTo(".tab-pane"),$(".dd-country-title .options li").on("click",function(){$(".dd-country-title .selected").html($(this).text()),$(".dd-country-title .selected-inp").val($(this).data("value")).trigger("change"),$(".dd-country-title .options").removeClass("show")}),$(".dd-title-wrapper").on("click",function(a){$(".dd-country-title .options").fadeToggle().toggleClass("show"),$(".dd-country-title i").toggleClass("fa fa-angle-up fa fa-angle-down"),a.stopPropagation()}),$(".dd-country-title .selected-inp").on("change",function(a){var b=a.target.value,c=$(".dd-country-title li[data-value='"+b+"']").text();c.length&&(document.location="/countries/"+c.toLowerCase())}),$.fn.resizeselectList=function(a){return this.each(function(){$(this).change(function(){var a=$(this),b=a.parents().find(".dd-country-title .selected"),c=b.text();console.log(c);var d=$("<span class='xx'/>").html(c).css({"font-size":b.css("font-size"),"font-weight":b.css("font-weight"),visibility:"hidden"});d.appendTo(a.parent());var e=d.width();d.remove(),a.width(e+45)}).change()})},$(".resizeselect-list").resizeselectList());var H=$(".subsection-tools-adaptation-support-tool").length>0;if($(".lfc-single-image").remove(),H){$(".col-md-8").children(".tile:nth-child(2)").addClass("tile-wrapper");var I=$(".tile-content").children("h1");I.each(function(){$("<h2>"+$(this).html()+"</h2>").replaceAll(this)})}$(".ast-map .ast-circle").hover(function(){$(this).siblings(".step-text").css("display","block")},function(){$(this).siblings(".step-text").css("display","none")});var J=$(".ast-title-step").text(),K=$(".ast-circle");0==J&&$(".ast-title-step").remove(),K.each(function(){$(this).text()===J&&$(this).css({"background-color":"#FFD554",border:"2px solid #F2C94C",color:"#4F4F4F"})});var L=$(".subsection-cities.subsection-cities-index_html").length>0;d(),$(window).resize(d),m()});