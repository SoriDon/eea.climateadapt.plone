!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],b):b(a.d3=a.d3||{},a.d3)}(this,function(a,b){"use strict";function c(){return new d}function d(){this.reset()}function e(a,b,c){var d=a.s=b+c,e=d-b,f=d-e;a.t=b-f+(c-e)}function f(a){return a>1?0:a<-1?bc:Math.acos(a)}function g(a){return a>1?cc:a<-1?-cc:Math.asin(a)}function h(a){return(a=pc(a/2))*a}function i(){}function j(a,b){a&&uc.hasOwnProperty(a.type)&&uc[a.type](a,b)}function k(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function l(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)k(a[c],b,1);b.polygonEnd()}function m(a,b){a&&tc.hasOwnProperty(a.type)?tc[a.type](a,b):j(a,b)}function n(){xc.point=p}function o(){q(vb,wb)}function p(a,b){xc.point=q,vb=a,wb=b,xb=a*=gc,yb=kc(b=(b*=gc)/2+dc),zb=pc(b)}function q(a,b){var c=(a*=gc)-xb,d=c>=0?1:-1,e=d*c,f=kc(b=(b*=gc)/2+dc),g=pc(b),h=zb*g,i=yb*f+h*kc(e),j=h*d*pc(e);vc.add(jc(j,i)),xb=a,yb=f,zb=g}function r(a){return[jc(a[1],a[0]),g(a[2])]}function s(a){var b=a[0],c=a[1],d=kc(c);return[d*kc(b),d*pc(b),pc(c)]}function t(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function u(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function v(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function w(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function x(a){var b=rc(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function y(a,b){Ib.push(Jb=[Ab=a,Cb=a]),b<Bb&&(Bb=b),b>Db&&(Db=b)}function z(a,b){var c=s([a*gc,b*gc]);if(Hb){var d=u(Hb,c),e=u([d[1],-d[0],0],d);x(e),e=r(e);var f,g=a-Eb,h=g>0?1:-1,i=e[0]*fc*h,j=hc(g)>180;j^(h*Eb<i&&i<h*a)?(f=e[1]*fc)>Db&&(Db=f):j^(h*Eb<(i=(i+360)%360-180)&&i<h*a)?(f=-e[1]*fc)<Bb&&(Bb=f):(b<Bb&&(Bb=b),b>Db&&(Db=b)),j?a<Eb?F(Ab,a)>F(Ab,Cb)&&(Cb=a):F(a,Cb)>F(Ab,Cb)&&(Ab=a):Cb>=Ab?(a<Ab&&(Ab=a),a>Cb&&(Cb=a)):a>Eb?F(Ab,a)>F(Ab,Cb)&&(Cb=a):F(a,Cb)>F(Ab,Cb)&&(Ab=a)}else Ib.push(Jb=[Ab=a,Cb=a]);b<Bb&&(Bb=b),b>Db&&(Db=b),Hb=c,Eb=a}function A(){zc.point=z}function B(){Jb[0]=Ab,Jb[1]=Cb,zc.point=y,Hb=null}function C(a,b){if(Hb){var c=a-Eb;yc.add(hc(c)>180?c+(c>0?360:-360):c)}else Fb=a,Gb=b;xc.point(a,b),z(a,b)}function D(){xc.lineStart()}function E(){C(Fb,Gb),xc.lineEnd(),hc(yc)>_b&&(Ab=-(Cb=180)),Jb[0]=Ab,Jb[1]=Cb,Hb=null}function F(a,b){return(b-=a)<0?b+360:b}function G(a,b){return a[0]-b[0]}function H(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function I(a,b){a*=gc;var c=kc(b*=gc);J(c*kc(a),c*pc(a),pc(b))}function J(a,b,c){Mb+=(a-Mb)/++Kb,Nb+=(b-Nb)/Kb,Ob+=(c-Ob)/Kb}function K(){Ac.point=L}function L(a,b){a*=gc;var c=kc(b*=gc);Xb=c*kc(a),Yb=c*pc(a),Zb=pc(b),Ac.point=M,J(Xb,Yb,Zb)}function M(a,b){a*=gc;var c=kc(b*=gc),d=c*kc(a),e=c*pc(a),f=pc(b),g=jc(rc((g=Yb*f-Zb*e)*g+(g=Zb*d-Xb*f)*g+(g=Xb*e-Yb*d)*g),Xb*d+Yb*e+Zb*f);Lb+=g,Pb+=g*(Xb+(Xb=d)),Qb+=g*(Yb+(Yb=e)),Rb+=g*(Zb+(Zb=f)),J(Xb,Yb,Zb)}function N(){Ac.point=I}function O(){Ac.point=Q}function P(){R(Vb,Wb),Ac.point=I}function Q(a,b){Vb=a,Wb=b,a*=gc,b*=gc,Ac.point=R;var c=kc(b);Xb=c*kc(a),Yb=c*pc(a),Zb=pc(b),J(Xb,Yb,Zb)}function R(a,b){a*=gc;var c=kc(b*=gc),d=c*kc(a),e=c*pc(a),f=pc(b),h=Yb*f-Zb*e,i=Zb*d-Xb*f,j=Xb*e-Yb*d,k=rc(h*h+i*i+j*j),l=g(k),m=k&&-l/k;Sb+=m*h,Tb+=m*i,Ub+=m*j,Lb+=l,Pb+=l*(Xb+(Xb=d)),Qb+=l*(Yb+(Yb=e)),Rb+=l*(Zb+(Zb=f)),J(Xb,Yb,Zb)}function S(a){return function(){return a}}function T(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c}function U(a,b){return[hc(a)>bc?a+Math.round(-a/ec)*ec:a,b]}function V(a,b,c){return(a%=ec)?b||c?T(X(a),Y(b,c)):X(a):b||c?Y(b,c):U}function W(a){return function(b,c){return[(b+=a)>bc?b-ec:b<-bc?b+ec:b,c]}}function X(a){var b=W(a);return b.invert=W(-a),b}function Y(a,b){function c(a,b){var c=kc(b),i=kc(a)*c,j=pc(a)*c,k=pc(b),l=k*d+i*e;return[jc(j*f-l*h,i*d-k*e),g(l*f+j*h)]}var d=kc(a),e=pc(a),f=kc(b),h=pc(b);return c.invert=function(a,b){var c=kc(b),i=kc(a)*c,j=pc(a)*c,k=pc(b),l=k*f-j*h;return[jc(j*f+k*h,i*d+l*e),g(l*d-i*e)]},c}function Z(a){function b(b){return(b=a(b[0]*gc,b[1]*gc))[0]*=fc,b[1]*=fc,b}return a=V(a[0]*gc,a[1]*gc,a.length>2?a[2]*gc:0),b.invert=function(b){return(b=a.invert(b[0]*gc,b[1]*gc))[0]*=fc,b[1]*=fc,b},b}function $(a,b,c,d,e,f){if(c){var g=kc(b),h=pc(b),i=d*c;null==e?(e=b+d*ec,f=b-i/2):(e=_(g,e),f=_(g,f),(d>0?e<f:e>f)&&(e+=d*ec));for(var j,k=e;d>0?k>f:k<f;k-=i)j=r([g,-h*kc(k),-h*pc(k)]),a.point(j[0],j[1])}}function _(a,b){(b=s(b))[0]-=a,x(b);var c=f(-b[1]);return((-b[2]<0?-c:c)+ec-_b)%ec}function aa(){var a,b=[];return{point:function(b,c){a.push([b,c])},lineStart:function(){b.push(a=[])},lineEnd:i,rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))},result:function(){var c=b;return b=[],a=null,c}}}function ba(a,b){return hc(a[0]-b[0])<_b&&hc(a[1]-b[1])<_b}function ca(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function da(a,b,c,d,e){var f,g,h=[],i=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c,d=a[0],g=a[b];if(ba(d,g)){for(e.lineStart(),f=0;f<b;++f)e.point((d=a[f])[0],d[1]);e.lineEnd()}else h.push(c=new ca(d,a,null,(!0))),i.push(c.o=new ca(d,null,c,(!1))),h.push(c=new ca(g,a,null,(!1))),i.push(c.o=new ca(g,null,c,(!0)))}}),h.length){for(i.sort(b),ea(h),ea(i),f=0,g=i.length;f<g;++f)i[f].e=c=!c;for(var j,k,l=h[0];;){for(var m=l,n=!0;m.v;)if((m=m.n)===l)return;j=m.z,e.lineStart();do{if(m.v=m.o.v=!0,m.e){if(n)for(f=0,g=j.length;f<g;++f)e.point((k=j[f])[0],k[1]);else d(m.x,m.n.x,1,e);m=m.n}else{if(n)for(j=m.p.z,f=j.length-1;f>=0;--f)e.point((k=j[f])[0],k[1]);else d(m.x,m.p.x,-1,e);m=m.p}j=(m=m.o).z,n=!n}while(!m.v);e.lineEnd()}}}function ea(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function fa(a){return hc(a[0])<=bc?a[0]:qc(a[0])*((hc(a[0])+bc)%ec-bc)}function ga(a,b){var c=fa(b),d=b[1],e=pc(d),f=[pc(c),-kc(c),0],h=0,i=0;Mc.reset(),1===e?d=cc+_b:-1===e&&(d=-cc-_b);for(var j=0,k=a.length;j<k;++j)if(m=(l=a[j]).length)for(var l,m,n=l[m-1],o=fa(n),p=n[1]/2+dc,q=pc(p),r=kc(p),t=0;t<m;++t,o=w,q=z,r=A,n=v){var v=l[t],w=fa(v),y=v[1]/2+dc,z=pc(y),A=kc(y),B=w-o,C=B>=0?1:-1,D=C*B,E=D>bc,F=q*z;if(Mc.add(jc(F*C*pc(D),r*A+F*kc(D))),h+=E?B+C*ec:B,E^o>=c^w>=c){var G=u(s(n),s(v));x(G);var H=u(f,G);x(H);var I=(E^B>=0?-1:1)*g(H[2]);(d>I||d===I&&(G[0]||G[1]))&&(i+=E^B>=0?1:-1)}}return(h<-_b||h<_b&&Mc<-_b)^1&i}function ha(a,c,d,e){return function(f){function g(b,c){a(b,c)&&f.point(b,c)}function h(a,b){q.point(a,b)}function i(){u.point=h,q.lineStart()}function j(){u.point=g,q.lineEnd()}function k(a,b){p.push([a,b]),s.point(a,b)}function l(){s.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),s.lineEnd();var a,b,c,d,e=s.clean(),g=r.result(),h=g.length;if(p.pop(),n.push(p),p=null,h)if(1&e){if((b=(c=g[0]).length-1)>0){for(t||(f.polygonStart(),t=!0),f.lineStart(),a=0;a<b;++a)f.point((d=c[a])[0],d[1]);f.lineEnd()}}else h>1&&2&e&&g.push(g.pop().concat(g.shift())),o.push(g.filter(ia))}var n,o,p,q=c(f),r=aa(),s=c(r),t=!1,u={point:g,lineStart:i,lineEnd:j,polygonStart:function(){u.point=k,u.lineStart=l,u.lineEnd=m,o=[],n=[]},polygonEnd:function(){u.point=g,u.lineStart=i,u.lineEnd=j,o=b.merge(o);var a=ga(n,e);o.length?(t||(f.polygonStart(),t=!0),da(o,ja,a,d,f)):a&&(t||(f.polygonStart(),t=!0),f.lineStart(),d(null,null,1,f),f.lineEnd()),t&&(f.polygonEnd(),t=!1),o=n=null},sphere:function(){f.polygonStart(),f.lineStart(),d(null,null,1,f),f.lineEnd(),f.polygonEnd()}};return u}}function ia(a){return a.length>1}function ja(a,b){return((a=a.x)[0]<0?a[1]-cc-_b:cc-a[1])-((b=b.x)[0]<0?b[1]-cc-_b:cc-b[1])}function ka(a){function b(a,b){return kc(a)*kc(b)>e}function c(a,b,c){var d=[1,0,0],f=u(s(a),s(b)),g=t(f,f),h=f[0],i=g-h*h;if(!i)return!c&&a;var j=e*g/i,k=-e*h/i,l=u(d,f),m=w(d,j);v(m,w(f,k));var n=l,o=t(m,n),p=t(n,n),q=o*o-p*(t(m,m)-1);if(!(q<0)){var x=rc(q),y=w(n,(-o-x)/p);if(v(y,m),y=r(y),!c)return y;var z,A=a[0],B=b[0],C=a[1],D=b[1];B<A&&(z=A,A=B,B=z);var E=B-A,F=hc(E-bc)<_b;if(!F&&D<C&&(z=C,C=D,D=z),F||E<_b?F?C+D>0^y[1]<(hc(y[0]-A)<_b?C:D):C<=y[1]&&y[1]<=D:E>bc^(A<=y[0]&&y[0]<=B)){var G=w(n,(-o+x)/p);return v(G,m),[y,r(G)]}}}function d(b,c){var d=g?a:bc-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var e=kc(a),f=6*gc,g=e>0,h=hc(e)>_b;return ha(b,function(a){var e,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:d(l,m):p?d(l+(l<0?bc:-bc),m):0;if(!e&&(j=i=p)&&a.lineStart(),p!==i&&(!(n=c(e,o))||ba(e,n)||ba(o,n))&&(o[0]+=_b,o[1]+=_b,p=b(o[0],o[1])),p!==i)k=0,p?(a.lineStart(),n=c(o,e),a.point(n[0],n[1])):(n=c(e,o),a.point(n[0],n[1]),a.lineEnd()),e=n;else if(h&&e&&g^p){var r;q&f||!(r=c(o,e,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||e&&ba(e,o)||a.point(o[0],o[1]),e=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),e=null},clean:function(){return k|(j&&i)<<1}}},function(b,c,d,e){$(e,a,f,d,b,c)},g?[0,-a]:[-bc,a-bc])}function la(a,c,d,e){function f(b,f){return a<=b&&b<=d&&c<=f&&f<=e}function g(b,f,g,i){var k=0,l=0;if(null==b||(k=h(b,g))!==(l=h(f,g))||j(b,f)<0^g>0){do i.point(0===k||3===k?a:d,k>1?e:c);while((k=(k+g+4)%4)!==l)}else i.point(f[0],f[1])}function h(b,e){return hc(b[0]-a)<_b?e>0?0:3:hc(b[0]-d)<_b?e>0?2:1:hc(b[1]-c)<_b?e>0?1:0:e>0?3:2}function i(a,b){return j(a.x,b.x)}function j(a,b){var c=h(a,1),d=h(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function j(a,b){f(a,b)&&w.point(a,b)}function k(b,g){var h=f(b,g);if(m&&n.push([b,g]),u)o=b,p=g,q=h,u=!1,h&&(w.lineStart(),w.point(b,g));else if(h&&t)w.point(b,g);else{var i=[r=Math.max(Pc,Math.min(Oc,r)),s=Math.max(Pc,Math.min(Oc,s))],j=[b=Math.max(Pc,Math.min(Oc,b)),g=Math.max(Pc,Math.min(Oc,g))];!function(a,b,c,d,e,f){var g,h=a[0],i=a[1],j=0,k=1,l=b[0]-h,m=b[1]-i;if(g=c-h,l||!(g>0)){if(g/=l,l<0){if(g<j)return;g<k&&(k=g)}else if(l>0){if(g>k)return;g>j&&(j=g)}if(g=e-h,l||!(g<0)){if(g/=l,l<0){if(g>k)return;g>j&&(j=g)}else if(l>0){if(g<j)return;g<k&&(k=g)}if(g=d-i,m||!(g>0)){if(g/=m,m<0){if(g<j)return;g<k&&(k=g)}else if(m>0){if(g>k)return;g>j&&(j=g)}if(g=f-i,m||!(g<0)){if(g/=m,m<0){if(g>k)return;g>j&&(j=g)}else if(m>0){if(g<j)return;g<k&&(k=g)}return j>0&&(a[0]=h+j*l,a[1]=i+j*m),k<1&&(b[0]=h+k*l,b[1]=i+k*m),!0}}}}}(i,j,a,c,d,e)?h&&(w.lineStart(),w.point(b,g),v=!1):(t||(w.lineStart(),w.point(i[0],i[1])),w.point(j[0],j[1]),h||w.lineEnd(),v=!1)}r=b,s=g,t=h}var l,m,n,o,p,q,r,s,t,u,v,w=h,x=aa(),y={point:j,lineStart:function(){y.point=k,m&&m.push(n=[]),u=!0,t=!1,r=s=NaN},lineEnd:function(){l&&(k(o,p),q&&t&&x.rejoin(),l.push(x.result())),y.point=j,t&&w.lineEnd()},polygonStart:function(){w=x,l=[],m=[],v=!0},polygonEnd:function(){var c=function(){for(var b=0,c=0,d=m.length;c<d;++c)for(var f,g,h=m[c],i=1,j=h.length,k=h[0],l=k[0],n=k[1];i<j;++i)f=l,g=n,k=h[i],l=k[0],n=k[1],g<=e?n>e&&(l-f)*(e-g)>(n-g)*(a-f)&&++b:n<=e&&(l-f)*(e-g)<(n-g)*(a-f)&&--b;return b}(),d=v&&c,f=(l=b.merge(l)).length;(d||f)&&(h.polygonStart(),d&&(h.lineStart(),g(null,null,1,h),h.lineEnd()),f&&da(l,i,c,g,h),h.polygonEnd()),w=h,l=m=n=null}};return y}}function ma(){Rc.point=Rc.lineEnd=i}function na(a,b){Bc=a*=gc,Cc=pc(b*=gc),Dc=kc(b),Rc.point=oa}function oa(a,b){a*=gc;var c=pc(b*=gc),d=kc(b),e=hc(a-Bc),f=kc(e),g=d*pc(e),h=Dc*c-Cc*d*f,i=Cc*c+Dc*d*f;Qc.add(jc(rc(g*g+h*h),i)),Bc=a,Cc=c,Dc=d}function pa(a){return Qc.reset(),m(a,Rc),+Qc}function qa(a,b){return Sc[0]=a,Sc[1]=b,pa(Tc)}function ra(a,b){return!(!a||!Vc.hasOwnProperty(a.type))&&Vc[a.type](a,b)}function sa(a,b){return 0===qa(a,b)}function ta(a,b){for(var c,d,e,f=0,g=a.length;f<g;f++){if(0===(d=qa(a[f],b)))return!0;if(f>0&&(e=qa(a[f],a[f-1]))>0&&c<=e&&d<=e&&(c+d-e)*(1-Math.pow((c-d)/e,2))<ac*e)return!0;c=d}return!1}function ua(a,b){return!!ga(a.map(va),wa(b))}function va(a){return(a=a.map(wa)).pop(),a}function wa(a){return[a[0]*gc,a[1]*gc]}function xa(a,c,d){var e=b.range(a,c-_b,d).concat(c);return function(a){return e.map(function(b){return[a,b]})}}function ya(a,c,d){var e=b.range(a,c-_b,d).concat(c);return function(a){return e.map(function(b){return[b,a]})}}function za(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return b.range(lc(g/r)*r,f,r).map(n).concat(b.range(lc(k/s)*s,j,s).map(o)).concat(b.range(lc(e/p)*p,d,p).filter(function(a){return hc(a%r)>_b}).map(l)).concat(b.range(lc(i/q)*q,h,q).filter(function(a){return hc(a%s)>_b}).map(m))}var d,e,f,g,h,i,j,k,l,m,n,o,p=10,q=p,r=90,s=360,t=2.5;return a.lines=function(){return c().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[n(g).concat(o(j).slice(1),n(f).reverse().slice(1),o(k).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.extentMajor(b).extentMinor(b):a.extentMinor()},a.extentMajor=function(b){return arguments.length?(g=+b[0][0],f=+b[1][0],k=+b[0][1],j=+b[1][1],g>f&&(b=g,g=f,f=b),k>j&&(b=k,k=j,j=b),a.precision(t)):[[g,k],[f,j]]},a.extentMinor=function(b){return arguments.length?(e=+b[0][0],d=+b[1][0],i=+b[0][1],h=+b[1][1],e>d&&(b=e,e=d,d=b),i>h&&(b=i,i=h,h=b),a.precision(t)):[[e,i],[d,h]]},a.step=function(b){return arguments.length?a.stepMajor(b).stepMinor(b):a.stepMinor()},a.stepMajor=function(b){return arguments.length?(r=+b[0],s=+b[1],a):[r,s]},a.stepMinor=function(b){return arguments.length?(p=+b[0],q=+b[1],a):[p,q]},a.precision=function(b){return arguments.length?(t=+b,l=xa(i,h,90),m=ya(e,d,t),n=xa(k,j,90),o=ya(g,f,t),a):t},a.extentMajor([[-180,-90+_b],[180,90-_b]]).extentMinor([[-180,-80-_b],[180,80+_b]])}function Aa(a){return a}function Ba(){Yc.point=Ca}function Ca(a,b){Yc.point=Da,Ec=Gc=a,Fc=Hc=b}function Da(a,b){Xc.add(Hc*a-Gc*b),Gc=a,Hc=b}function Ea(){Da(Ec,Fc)}function Fa(a,b){cd+=a,dd+=b,++ed}function Ga(){ld.point=Ha}function Ha(a,b){ld.point=Ia,Fa(Kc=a,Lc=b)}function Ia(a,b){var c=a-Kc,d=b-Lc,e=rc(c*c+d*d);fd+=e*(Kc+a)/2,gd+=e*(Lc+b)/2,hd+=e,Fa(Kc=a,Lc=b)}function Ja(){ld.point=Fa}function Ka(){ld.point=Ma}function La(){Na(Ic,Jc)}function Ma(a,b){ld.point=Na,Fa(Ic=Kc=a,Jc=Lc=b)}function Na(a,b){var c=a-Kc,d=b-Lc,e=rc(c*c+d*d);fd+=e*(Kc+a)/2,gd+=e*(Lc+b)/2,hd+=e,id+=(e=Lc*a-Kc*b)*(Kc+a),jd+=e*(Lc+b),kd+=3*e,Fa(Kc=a,Lc=b)}function Oa(a){this._context=a}function Pa(a,b){sd.point=Qa,nd=pd=a,od=qd=b}function Qa(a,b){pd-=a,qd-=b,rd.add(rc(pd*pd+qd*qd)),pd=a,qd=b}function Ra(){this._string=[]}function Sa(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ta(a){return function(b){var c=new Ua;for(var d in a)c[d]=a[d];return c.stream=b,c}}function Ua(){}function Va(a,b,c){var d=a.clipExtent&&a.clipExtent();return a.scale(150).translate([0,0]),null!=d&&a.clipExtent(null),m(c,a.stream(bd)),b(bd.result()),null!=d&&a.clipExtent(d),a}function Wa(a,b,c){return Va(a,function(c){var d=b[1][0]-b[0][0],e=b[1][1]-b[0][1],f=Math.min(d/(c[1][0]-c[0][0]),e/(c[1][1]-c[0][1])),g=+b[0][0]+(d-f*(c[1][0]+c[0][0]))/2,h=+b[0][1]+(e-f*(c[1][1]+c[0][1]))/2;a.scale(150*f).translate([g,h])},c)}function Xa(a,b,c){return Wa(a,[[0,0],b],c)}function Ya(a,b,c){return Va(a,function(c){var d=+b,e=d/(c[1][0]-c[0][0]),f=(d-e*(c[1][0]+c[0][0]))/2,g=-e*c[0][1];a.scale(150*e).translate([f,g])},c)}function Za(a,b,c){return Va(a,function(c){var d=+b,e=d/(c[1][1]-c[0][1]),f=-e*c[0][0],g=(d-e*(c[1][1]+c[0][1]))/2;a.scale(150*e).translate([f,g])},c)}function $a(a,b){return+b?function(a,b){function c(d,e,f,h,i,j,k,l,m,n,o,p,q,r){var s=k-d,t=l-e,u=s*s+t*t;if(u>4*b&&q--){var v=h+n,w=i+o,x=j+p,y=rc(v*v+w*w+x*x),z=g(x/=y),A=hc(hc(x)-1)<_b||hc(f-m)<_b?(f+m)/2:jc(w,v),B=a(A,z),C=B[0],D=B[1],E=C-d,F=D-e,G=t*E-s*F;(G*G/u>b||hc((s*E+t*F)/u-.5)>.3||h*n+i*o+j*p<ud)&&(c(d,e,f,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),c(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}return function(b){function d(c,d){c=a(c,d),b.point(c[0],c[1])}function e(){r=NaN,x.point=f,b.lineStart()}function f(d,e){var f=s([d,e]),g=a(d,e);c(r,t,q,u,v,w,r=g[0],t=g[1],q=d,u=f[0],v=f[1],w=f[2],td,b),b.point(r,t)}function g(){x.point=d,b.lineEnd()}function h(){e(),x.point=i,x.lineEnd=j}function i(a,b){f(k=a,b),l=r,m=t,n=u,o=v,p=w,x.point=f}function j(){c(r,t,q,u,v,w,l,m,k,n,o,p,td,b),x.lineEnd=g,g()}var k,l,m,n,o,p,q,r,t,u,v,w,x={point:d,lineStart:e,lineEnd:g,polygonStart:function(){b.polygonStart(),x.lineStart=h},polygonEnd:function(){b.polygonEnd(),x.lineStart=e}};return x}}(a,b):function(a){return Ta({point:function(b,c){b=a(b,c),this.stream.point(b[0],b[1])}})}(a)}function _a(a,b,c,d){function e(a,d){return[h*a-i*d+b,c-i*a-h*d]}var f=kc(d),g=pc(d),h=f*a,i=g*a,j=f/a,k=g/a,l=(g*c-f*b)/a,m=(g*b+f*c)/a;return e.invert=function(a,b){return[j*a-k*b+l,m-k*a-j*b]},e}function ab(a){return bb(function(){return a})()}function bb(a){function b(a){return m(a[0]*gc,a[1]*gc)}function c(a){return(a=m.invert(a[0],a[1]))&&[a[0]*fc,a[1]*fc]}function d(){var a=_a(p,0,0,x).apply(null,f(s,t)),b=(x?_a:function(a,b,c){function d(d,e){return[b+a*d,c-a*e]}return d.invert=function(d,e){return[(d-b)/a,(c-e)/a]},d})(p,q-a[0],r-a[1],x);return g=V(u,v,w),l=T(f,b),m=T(g,l),k=$a(l,C),e()}function e(){return n=o=null,b}var f,g,h,i,j,k,l,m,n,o,p=150,q=480,r=250,s=0,t=0,u=0,v=0,w=0,x=0,y=null,z=Nc,A=null,B=Aa,C=.5;return b.stream=function(a){return n&&o===a?n:n=vd(function(a){return Ta({point:function(b,c){var d=a(b,c);return this.stream.point(d[0],d[1])}})}(g)(z(k(B(o=a)))))},b.preclip=function(a){return arguments.length?(z=a,y=void 0,e()):z},b.postclip=function(a){return arguments.length?(B=a,A=h=i=j=null,e()):B},b.clipAngle=function(a){return arguments.length?(z=+a?ka(y=a*gc):(y=null,Nc),e()):y*fc},b.clipExtent=function(a){return arguments.length?(B=null==a?(A=h=i=j=null,Aa):la(A=+a[0][0],h=+a[0][1],i=+a[1][0],j=+a[1][1]),e()):null==A?null:[[A,h],[i,j]]},b.scale=function(a){return arguments.length?(p=+a,d()):p},b.translate=function(a){return arguments.length?(q=+a[0],r=+a[1],d()):[q,r]},b.center=function(a){return arguments.length?(s=a[0]%360*gc,t=a[1]%360*gc,d()):[s*fc,t*fc]},b.rotate=function(a){return arguments.length?(u=a[0]%360*gc,v=a[1]%360*gc,w=a.length>2?a[2]%360*gc:0,d()):[u*fc,v*fc,w*fc]},b.angle=function(a){return arguments.length?(x=a%360*gc,d()):x*fc},b.precision=function(a){return arguments.length?(k=$a(l,C=a*a),e()):rc(C)},b.fitExtent=function(a,c){return Wa(b,a,c)},b.fitSize=function(a,c){return Xa(b,a,c)},b.fitWidth=function(a,c){return Ya(b,a,c)},b.fitHeight=function(a,c){return Za(b,a,c)},function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function cb(a){var b=0,c=bc/3,d=bb(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*gc,c=a[1]*gc):[b*fc,c*fc]},e}function db(a,b){function c(a,b){var c=rc(f-2*e*pc(b))/e;return[c*pc(a*=e),h-c*kc(a)]}var d=pc(a),e=(d+pc(b))/2;if(hc(e)<_b)return function(a){function b(a,b){return[a*c,pc(b)/c]}var c=kc(a);return b.invert=function(a,b){return[a/c,g(b*c)]},b}(a);var f=1+d*(2*e-d),h=rc(f)/e;return c.invert=function(a,b){var c=h-b;return[jc(a,hc(c))/e*qc(c),g((f-(a*a+c*c)*e*e)/(2*e))]},c}function eb(){return cb(db).scale(155.424).center([0,33.6442])}function fb(){return eb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gb(a){return function(b,c){var d=kc(b),e=kc(c),f=a(d*e);return[f*e*pc(b),f*pc(c)]}}function hb(a){return function(b,c){var d=rc(b*b+c*c),e=a(d),f=pc(e),h=kc(e);return[jc(b*f,d*h),g(d&&c*f/d)]}}function ib(a,b){return[a,nc(sc((cc+b)/2))]}function jb(a){function b(){var b=bc*h(),g=f(Z(f.rotate()).invert([0,0]));return j(null==k?[[g[0]-b,g[1]-b],[g[0]+b,g[1]+b]]:a===ib?[[Math.max(g[0]-b,k),c],[Math.min(g[0]+b,d),e]]:[[k,Math.max(g[1]-b,c)],[d,Math.min(g[1]+b,e)]])}var c,d,e,f=ab(a),g=f.center,h=f.scale,i=f.translate,j=f.clipExtent,k=null;return f.scale=function(a){return arguments.length?(h(a),b()):h()},f.translate=function(a){return arguments.length?(i(a),b()):i()},f.center=function(a){return arguments.length?(g(a),b()):g()},f.clipExtent=function(a){return arguments.length?(null==a?k=c=d=e=null:(k=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),b()):null==k?null:[[k,c],[d,e]]},b()}function kb(a){return sc((cc+a)/2)}function lb(a,b){function c(a,b){f>0?b<-cc+_b&&(b=-cc+_b):b>cc-_b&&(b=cc-_b);var c=f/oc(kb(b),e);return[c*pc(e*a),f-c*kc(e*a)]}var d=kc(a),e=a===b?pc(a):nc(d/kc(b))/nc(kb(b)/kb(a)),f=d*oc(kb(a),e)/e;return e?(c.invert=function(a,b){var c=f-b,d=qc(e)*rc(a*a+c*c);return[jc(a,hc(c))/e*qc(c),2*ic(oc(f/d,1/e))-cc]},c):ib}function mb(a,b){return[a,b]}function nb(a,b){function c(a,b){var c=f-b,d=e*a;return[c*pc(d),f-c*kc(d)]}var d=kc(a),e=a===b?pc(a):(d-kc(b))/(b-a),f=d/e+a;return hc(e)<_b?mb:(c.invert=function(a,b){var c=f-b;return[jc(a,hc(c))/e*qc(c),f-qc(e)*rc(a*a+c*c)]},c)}function ob(a,b){var c=g(Cd*pc(b)),d=c*c,e=d*d*d;return[a*kc(c)/(Cd*(yd+3*zd*d+e*(7*Ad+9*Bd*d))),c*(yd+zd*d+e*(Ad+Bd*d))]}function pb(a,b){var c=kc(b),d=kc(a)*c;return[c*pc(a)/d,pc(b)/d]}function qb(a,b,c,d){return 1===a&&1===b&&0===c&&0===d?Aa:Ta({point:function(e,f){this.stream.point(e*a+c,f*b+d)}})}function rb(a,b){var c=b*b,d=c*c;return[a*(.8707-.131979*c+d*(d*(.003971*c-.001529*d)-.013791)),b*(1.007226+c*(.015085+d*(.028874*c-.044475-.005916*d)))]}function sb(a,b){return[kc(b)*pc(a),pc(b)]}function tb(a,b){var c=kc(b),d=1+kc(a)*c;return[c*pc(a)/d,pc(b)/d]}function ub(a,b){return[nc(sc((cc+b)/2)),-a]}d.prototype={constructor:d,reset:function(){this.s=this.t=0},add:function(a){e($b,a,this.t),e(this,$b.s,this.s),this.s?this.t+=$b.t:this.s=$b.t},valueOf:function(){return this.s}};var vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b=new d,_b=1e-6,ac=1e-12,bc=Math.PI,cc=bc/2,dc=bc/4,ec=2*bc,fc=180/bc,gc=bc/180,hc=Math.abs,ic=Math.atan,jc=Math.atan2,kc=Math.cos,lc=Math.ceil,mc=Math.exp,nc=Math.log,oc=Math.pow,pc=Math.sin,qc=Math.sign||function(a){return a>0?1:a<0?-1:0},rc=Math.sqrt,sc=Math.tan,tc={Feature:function(a,b){j(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)j(c[d].geometry,b)}},uc={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){k(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)k(c[d],b,0)},Polygon:function(a,b){l(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)l(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)j(c[d],b)}},vc=c(),wc=c(),xc={point:i,lineStart:i,lineEnd:i,polygonStart:function(){vc.reset(),xc.lineStart=n,xc.lineEnd=o},polygonEnd:function(){var a=+vc;wc.add(a<0?ec+a:a),this.lineStart=this.lineEnd=this.point=i},sphere:function(){wc.add(ec)}},yc=c(),zc={point:y,lineStart:A,lineEnd:B,polygonStart:function(){zc.point=C,zc.lineStart=D,zc.lineEnd=E,yc.reset(),xc.polygonStart()},polygonEnd:function(){xc.polygonEnd(),zc.point=y,zc.lineStart=A,zc.lineEnd=B,vc<0?(Ab=-(Cb=180),Bb=-(Db=90)):yc>_b?Db=90:yc<-_b&&(Bb=-90),Jb[0]=Ab,Jb[1]=Cb},sphere:function(){Ab=-(Cb=180),Bb=-(Db=90)}},Ac={sphere:i,point:I,lineStart:K,lineEnd:N,polygonStart:function(){Ac.lineStart=O,Ac.lineEnd=P},polygonEnd:function(){Ac.lineStart=K,Ac.lineEnd=N}};U.invert=U;var Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc=c(),Nc=ha(function(){return!0},function(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?bc:-bc,i=hc(f-c);hc(i-bc)<_b?(a.point(c,d=(d+g)/2>0?cc:-cc),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=bc&&(hc(c-e)<_b&&(c-=e*_b),hc(f-h)<_b&&(f-=h*_b),d=function(a,b,c,d){var e,f,g=pc(a-c);return hc(g)>_b?ic((pc(b)*(f=kc(d))*pc(c)-pc(d)*(e=kc(b))*pc(a))/(e*f*g)):(b+d)/2}(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}},function(a,b,c,d){var e;if(null==a)e=c*cc,d.point(-bc,e),d.point(0,e),d.point(bc,e),d.point(bc,0),d.point(bc,-e),d.point(0,-e),d.point(-bc,-e),d.point(-bc,0),d.point(-bc,e);else if(hc(a[0]-b[0])>_b){var f=a[0]<b[0]?bc:-bc;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])},[-bc,-cc]),Oc=1e9,Pc=-Oc,Qc=c(),Rc={sphere:i,point:i,lineStart:function(){Rc.point=na,Rc.lineEnd=ma},lineEnd:i,polygonStart:i,polygonEnd:i},Sc=[null,null],Tc={type:"LineString",coordinates:Sc},Uc={Feature:function(a,b){return ra(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)if(ra(c[d].geometry,b))return!0;return!1}},Vc={Sphere:function(){return!0},Point:function(a,b){return sa(a.coordinates,b)},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)if(sa(c[d],b))return!0;return!1},LineString:function(a,b){return ta(a.coordinates,b)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)if(ta(c[d],b))return!0;return!1},Polygon:function(a,b){return ua(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)if(ua(c[d],b))return!0;return!1},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)if(ra(c[d],b))return!0;return!1}},Wc=c(),Xc=c(),Yc={point:i,lineStart:i,lineEnd:i,polygonStart:function(){Yc.lineStart=Ba,Yc.lineEnd=Ea},polygonEnd:function(){Yc.lineStart=Yc.lineEnd=Yc.point=i,Wc.add(hc(Xc)),Xc.reset()},result:function(){var a=Wc/2;return Wc.reset(),a}},Zc=1/0,$c=Zc,_c=-Zc,ad=_c,bd={point:function(a,b){a<Zc&&(Zc=a),a>_c&&(_c=a),b<$c&&($c=b),b>ad&&(ad=b)},lineStart:i,lineEnd:i,polygonStart:i,polygonEnd:i,result:function(){var a=[[Zc,$c],[_c,ad]];return _c=ad=-($c=Zc=1/0),a}},cd=0,dd=0,ed=0,fd=0,gd=0,hd=0,id=0,jd=0,kd=0,ld={point:Fa,lineStart:Ga,lineEnd:Ja,polygonStart:function(){ld.lineStart=Ka,ld.lineEnd=La},polygonEnd:function(){ld.point=Fa,ld.lineStart=Ga,ld.lineEnd=Ja},result:function(){var a=kd?[id/kd,jd/kd]:hd?[fd/hd,gd/hd]:ed?[cd/ed,dd/ed]:[NaN,NaN];return cd=dd=ed=fd=gd=hd=id=jd=kd=0,a}};Oa.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._context.moveTo(a,b),this._point=1;break;case 1:this._context.lineTo(a,b);break;default:this._context.moveTo(a+this._radius,b),this._context.arc(a,b,this._radius,0,ec)}},result:i};var md,nd,od,pd,qd,rd=c(),sd={point:i,lineStart:function(){sd.point=Pa},lineEnd:function(){md&&Qa(nd,od),sd.point=i},polygonStart:function(){md=!0},polygonEnd:function(){md=null},result:function(){var a=+rd;return rd.reset(),a}};Ra.prototype={_radius:4.5,_circle:Sa(4.5),pointRadius:function(a){return(a=+a)!==this._radius&&(this._radius=a,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._string.push("M",a,",",b),this._point=1;break;case 1:this._string.push("L",a,",",b);break;default:null==this._circle&&(this._circle=Sa(this._radius)),this._string.push("M",a,",",b,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");return this._string=[],a}return null}},Ua.prototype={constructor:Ua,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var td=16,ud=kc(30*gc),vd=Ta({point:function(a,b){this.stream.point(a*gc,b*gc)}}),wd=gb(function(a){return rc(2/(1+a))});wd.invert=hb(function(a){return 2*g(a/2)});var xd=gb(function(a){return(a=f(a))&&a/pc(a)});xd.invert=hb(function(a){return a}),ib.invert=function(a,b){return[a,2*ic(mc(b))-cc]},mb.invert=mb;var yd=1.340264,zd=-.081106,Ad=893e-6,Bd=.003796,Cd=rc(3)/2;ob.invert=function(a,b){for(var c,d=b,e=d*d,f=e*e*e,h=0;h<12&&(f=(e=(d-=c=(d*(yd+zd*e+f*(Ad+Bd*e))-b)/(yd+3*zd*e+f*(7*Ad+9*Bd*e)))*d)*e*e,!(hc(c)<ac));++h);return[Cd*a*(yd+3*zd*e+f*(7*Ad+9*Bd*e))/kc(d),g(pc(d)/Cd)]},pb.invert=hb(ic),rb.invert=function(a,b){var c,d=b,e=25;do{var f=d*d,g=f*f;d-=c=(d*(1.007226+f*(.015085+g*(.028874*f-.044475-.005916*g)))-b)/(1.007226+f*(.045255+g*(.259866*f-.311325-.005916*11*g)))}while(hc(c)>_b&&--e>0);return[a/(.8707+(f=d*d)*(f*(f*f*f*(.003971-.001529*f)-.013791)-.131979)),d]},sb.invert=hb(g),tb.invert=hb(function(a){return 2*ic(a)}),ub.invert=function(a,b){return[-b,2*ic(mc(a))-cc]},a.geoArea=function(a){return wc.reset(),m(a,xc),2*wc},a.geoBounds=function(a){var b,c,d,e,f,g,h;if(Db=Cb=-(Ab=Bb=1/0),Ib=[],m(a,zc),c=Ib.length){for(Ib.sort(G),b=1,f=[d=Ib[0]];b<c;++b)H(d,(e=Ib[b])[0])||H(d,e[1])?(F(d[0],e[1])>F(d[0],d[1])&&(d[1]=e[1]),F(e[0],d[1])>F(d[0],d[1])&&(d[0]=e[0])):f.push(d=e);for(g=-1/0,b=0,d=f[c=f.length-1];b<=c;d=e,++b)e=f[b],(h=F(d[1],e[0]))>g&&(g=h,Ab=e[0],Cb=d[1])}return Ib=Jb=null,Ab===1/0||Bb===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ab,Bb],[Cb,Db]]},a.geoCentroid=function(a){Kb=Lb=Mb=Nb=Ob=Pb=Qb=Rb=Sb=Tb=Ub=0,m(a,Ac);var b=Sb,c=Tb,d=Ub,e=b*b+c*c+d*d;return e<ac&&(b=Pb,c=Qb,d=Rb,Lb<_b&&(b=Mb,c=Nb,d=Ob),(e=b*b+c*c+d*d)<ac)?[NaN,NaN]:[jc(c,b)*fc,g(d/rc(e))*fc]},a.geoCircle=function(){function a(){var a=d.apply(this,arguments),h=e.apply(this,arguments)*gc,i=f.apply(this,arguments)*gc;return b=[],c=V(-a[0]*gc,-a[1]*gc,0).invert,$(g,h,i,1),a={type:"Polygon",coordinates:[b]},b=c=null,a}var b,c,d=S([0,0]),e=S(90),f=S(6),g={point:function(a,d){b.push(a=c(a,d)),a[0]*=fc,a[1]*=fc}};return a.center=function(b){return arguments.length?(d="function"==typeof b?b:S([+b[0],+b[1]]),a):d},a.radius=function(b){return arguments.length?(e="function"==typeof b?b:S(+b),a):e},a.precision=function(b){return arguments.length?(f="function"==typeof b?b:S(+b),a):f},a},a.geoClipAntimeridian=Nc,a.geoClipCircle=ka,a.geoClipExtent=function(){var a,b,c,d=0,e=0,f=960,g=500;return c={stream:function(c){return a&&b===c?a:a=la(d,e,f,g)(b=c)},extent:function(h){return arguments.length?(d=+h[0][0],e=+h[0][1],f=+h[1][0],g=+h[1][1],a=b=null,c):[[d,e],[f,g]]}}},a.geoClipRectangle=la,a.geoContains=function(a,b){return(a&&Uc.hasOwnProperty(a.type)?Uc[a.type]:ra)(a,b)},a.geoDistance=qa,a.geoGraticule=za,a.geoGraticule10=function(){return za()()},a.geoInterpolate=function(a,b){var c=a[0]*gc,d=a[1]*gc,e=b[0]*gc,f=b[1]*gc,i=kc(d),j=pc(d),k=kc(f),l=pc(f),m=i*kc(c),n=i*pc(c),o=k*kc(e),p=k*pc(e),q=2*g(rc(h(f-d)+i*k*h(e-c))),r=pc(q),s=q?function(a){var b=pc(a*=q)/r,c=pc(q-a)/r,d=c*m+b*o,e=c*n+b*p,f=c*j+b*l;return[jc(e,d)*fc,jc(f,rc(d*d+e*e))*fc]}:function(){return[c*fc,d*fc]};return s.distance=q,s},a.geoLength=pa,a.geoPath=function(a,b){function c(a){return a&&("function"==typeof f&&e.pointRadius(+f.apply(this,arguments)),m(a,d(e))),e.result()}var d,e,f=4.5;return c.area=function(a){return m(a,d(Yc)),Yc.result()},c.measure=function(a){return m(a,d(sd)),sd.result()},c.bounds=function(a){return m(a,d(bd)),bd.result()},c.centroid=function(a){return m(a,d(ld)),ld.result()},c.projection=function(b){return arguments.length?(d=null==b?(a=null,Aa):(a=b).stream,c):a},c.context=function(a){return arguments.length?(e=null==a?(b=null,new Ra):new Oa(b=a),"function"!=typeof f&&e.pointRadius(f),c):b},c.pointRadius=function(a){return arguments.length?(f="function"==typeof a?a:(e.pointRadius(+a),+a),c):f},c.projection(a).context(b)},a.geoAlbers=fb,a.geoAlbersUsa=function(){function a(a){var b=a[0],c=a[1];return h=null,e.point(b,c),h||(f.point(b,c),h)||(g.point(b,c),h)}function b(){return c=d=null,a}var c,d,e,f,g,h,i=fb(),j=eb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),k=eb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(a,b){h=[a,b]}};return a.invert=function(a){var b=i.scale(),c=i.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&e<.234&&d>=-.425&&d<-.214?j:e>=.166&&e<.234&&d>=-.214&&d<-.115?k:i).invert(a);
},a.stream=function(a){return c&&d===a?c:(b=[i.stream(d=a),j.stream(a),k.stream(a)],e=b.length,c={point:function(a,c){for(var d=-1;++d<e;)b[d].point(a,c)},sphere:function(){for(var a=-1;++a<e;)b[a].sphere()},lineStart:function(){for(var a=-1;++a<e;)b[a].lineStart()},lineEnd:function(){for(var a=-1;++a<e;)b[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<e;)b[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<e;)b[a].polygonEnd()}});var b,e},a.precision=function(a){return arguments.length?(i.precision(a),j.precision(a),k.precision(a),b()):i.precision()},a.scale=function(b){return arguments.length?(i.scale(b),j.scale(.35*b),k.scale(b),a.translate(i.translate())):i.scale()},a.translate=function(a){if(!arguments.length)return i.translate();var c=i.scale(),d=+a[0],h=+a[1];return e=i.translate(a).clipExtent([[d-.455*c,h-.238*c],[d+.455*c,h+.238*c]]).stream(l),f=j.translate([d-.307*c,h+.201*c]).clipExtent([[d-.425*c+_b,h+.12*c+_b],[d-.214*c-_b,h+.234*c-_b]]).stream(l),g=k.translate([d-.205*c,h+.212*c]).clipExtent([[d-.214*c+_b,h+.166*c+_b],[d-.115*c-_b,h+.234*c-_b]]).stream(l),b()},a.fitExtent=function(b,c){return Wa(a,b,c)},a.fitSize=function(b,c){return Xa(a,b,c)},a.fitWidth=function(b,c){return Ya(a,b,c)},a.fitHeight=function(b,c){return Za(a,b,c)},a.scale(1070)},a.geoAzimuthalEqualArea=function(){return ab(wd).scale(124.75).clipAngle(179.999)},a.geoAzimuthalEqualAreaRaw=wd,a.geoAzimuthalEquidistant=function(){return ab(xd).scale(79.4188).clipAngle(179.999)},a.geoAzimuthalEquidistantRaw=xd,a.geoConicConformal=function(){return cb(lb).scale(109.5).parallels([30,30])},a.geoConicConformalRaw=lb,a.geoConicEqualArea=eb,a.geoConicEqualAreaRaw=db,a.geoConicEquidistant=function(){return cb(nb).scale(131.154).center([0,13.9389])},a.geoConicEquidistantRaw=nb,a.geoEqualEarth=function(){return ab(ob).scale(177.158)},a.geoEqualEarthRaw=ob,a.geoEquirectangular=function(){return ab(mb).scale(152.63)},a.geoEquirectangularRaw=mb,a.geoGnomonic=function(){return ab(pb).scale(144.049).clipAngle(60)},a.geoGnomonicRaw=pb,a.geoIdentity=function(){function a(){return e=f=null,g}var b,c,d,e,f,g,h=1,i=0,j=0,k=1,l=1,m=Aa,n=null,o=Aa;return g={stream:function(a){return e&&f===a?e:e=m(o(f=a))},postclip:function(e){return arguments.length?(o=e,n=b=c=d=null,a()):o},clipExtent:function(e){return arguments.length?(o=null==e?(n=b=c=d=null,Aa):la(n=+e[0][0],b=+e[0][1],c=+e[1][0],d=+e[1][1]),a()):null==n?null:[[n,b],[c,d]]},scale:function(b){return arguments.length?(m=qb((h=+b)*k,h*l,i,j),a()):h},translate:function(b){return arguments.length?(m=qb(h*k,h*l,i=+b[0],j=+b[1]),a()):[i,j]},reflectX:function(b){return arguments.length?(m=qb(h*(k=b?-1:1),h*l,i,j),a()):k<0},reflectY:function(b){return arguments.length?(m=qb(h*k,h*(l=b?-1:1),i,j),a()):l<0},fitExtent:function(a,b){return Wa(g,a,b)},fitSize:function(a,b){return Xa(g,a,b)},fitWidth:function(a,b){return Ya(g,a,b)},fitHeight:function(a,b){return Za(g,a,b)}}},a.geoProjection=ab,a.geoProjectionMutator=bb,a.geoMercator=function(){return jb(ib).scale(961/ec)},a.geoMercatorRaw=ib,a.geoNaturalEarth1=function(){return ab(rb).scale(175.295)},a.geoNaturalEarth1Raw=rb,a.geoOrthographic=function(){return ab(sb).scale(249.5).clipAngle(90+_b)},a.geoOrthographicRaw=sb,a.geoStereographic=function(){return ab(tb).scale(250).clipAngle(142)},a.geoStereographicRaw=tb,a.geoTransverseMercator=function(){var a=jb(ub),b=a.center,c=a.rotate;return a.center=function(a){return arguments.length?b([-a[1],a[0]]):[(a=b())[1],-a[0]]},a.rotate=function(a){return arguments.length?c([a[0],a[1],a.length>2?a[2]+90:90]):[(a=c())[0],a[1],a[2]-90]},c([0,0,90]).scale(159.155)},a.geoTransverseMercatorRaw=ub,a.geoRotation=Z,a.geoStream=m,a.geoTransform=function(a){return{stream:Ta(a)}},Object.defineProperty(a,"__esModule",{value:!0})});