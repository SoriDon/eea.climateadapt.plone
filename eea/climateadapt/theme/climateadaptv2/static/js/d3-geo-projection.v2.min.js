!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("d3-geo"),require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-geo","d3-array"],b):b(a.d3=a.d3||{},a.d3,a.d3)}(this,function(a,b,c){"use strict";function d(a){return a>1?Qb:a<-1?-Qb:Math.asin(a)}function e(a){return a>1?0:a<-1?Pb:Math.acos(a)}function f(a){return a>0?Math.sqrt(a):0}function g(a){return(Db(a)-Db(-a))/2}function h(a){return(Db(a)+Db(-a))/2}function i(a){function b(a,b){var c=Cb(a),d=Cb(b),f=Lb(b),g=d*c,h=-((1-g?Fb((1+g)/2)/(1-g):-.5)+e/(1+g));return[h*d*Lb(a),h*f]}var c=Mb(a/2),e=2*Fb(Cb(a/2))/(c*c);return b.invert=function(b,c){var g,h=f(b*b+c*c),i=-a/2,j=50;if(!h)return[0,0];do{var k=i/2,l=Cb(k),m=Lb(k),n=Mb(k),o=Fb(1/l);i-=g=(2/n*o-e*n-h)/(-o/(m*m)+1-e/(2*l*l))}while(zb(g)>Nb&&--j>0);var p=Lb(i);return[Bb(b*p,h*Cb(i)),d(c*p/h)]},b}function j(a,b){var c=Cb(b),d=function(a){return a?a/Math.sin(a):1}(e(c*Cb(a/=2)));return[2*c*Lb(a)*d,Lb(b)*d]}function k(a){function b(a,b){var h=Cb(b),i=Cb(a/=2);return[(1+h)*Lb(a),(e*b>-Bb(i,f)-.001?0:10*-e)+g+Lb(b)*d-(1+h)*c*i]}var c=Lb(a),d=Cb(a),e=a>=0?1:-1,f=Mb(e*a),g=(1+c-d)/2;return b.invert=function(a,b){var h=0,i=0,j=50;do{var k=Cb(h),l=Lb(h),m=Cb(i),n=Lb(i),o=1+m,p=o*l-a,q=g+n*d-o*c*k-b,r=o*k/2,s=-l*n,t=c*o*l/2,u=d*m+c*k*n,v=s*t-u*r,w=(q*s-p*u)/v/2,x=(p*t-q*r)/v;h-=w,i-=x}while((zb(w)>Nb||zb(x)>Nb)&&--j>0);return e*i>-Bb(Cb(h),f)-.001?[2*h,i]:null},b}function l(a,b){var c=Mb(b/2),d=f(1-c*c),e=1+d*Cb(a/=2),g=Lb(a)*d/e,h=c/e,i=g*g,j=h*h;return[4/3*g*(3+i-3*j),4/3*h*(3+3*i-j)]}function m(a,b){var c=zb(b);return c<Rb?[a,Fb(Mb(Rb+b/2))]:[a*Cb(c)*(2*Tb-1/Lb(c)),Kb(b)*(2*Tb*(c-Rb)-Fb(Mb(c/2)))]}function n(a){function c(a,c){var e=b.geoAzimuthalEquidistantRaw(a,c);if(zb(a)>Qb){var h=Bb(e[1],e[0]),i=f(e[0]*e[0]+e[1]*e[1]),j=g*Jb((h-Qb)/g)+Qb,k=Bb(Lb(h-=j),2-Cb(h));h=j+d(Pb/i*Lb(k))-k,e[0]=i*Cb(h),e[1]=i*Lb(h)}return e}var g=2*Pb/a;return c.invert=function(a,c){var d=f(a*a+c*c);if(d>Qb){var h=Bb(c,a),i=g*Jb((h-Qb)/g)+Qb,j=h>i?-1:1,k=d*Cb(i-h),l=1/Mb(j*e((k-Pb)/f(Pb*(Pb-2*k)+d*d)));h=i+2*Ab((l+j*f(l*l-3))/3),a=d*Cb(h),c=d*Lb(h)}return b.geoAzimuthalEquidistantRaw.invert(a,c)},c}function o(a,c){function d(d,e){var f=b.geoAzimuthalEqualAreaRaw(d/c,e);return f[0]*=a,f}return arguments.length<2&&(c=a),1===c?b.geoAzimuthalEqualAreaRaw:c===1/0?p:(d.invert=function(d,e){var f=b.geoAzimuthalEqualAreaRaw.invert(d/a,e);return f[0]*=c,f},d)}function p(a,b){return[a*Cb(b)/Cb(b/=2),2*Lb(b)]}function q(){var a=o(1.68,2);return function(b,c){if(b+c<-1.4){var d=(b-c+1.6)*(b+c+1.4)/8;b+=d,c-=.8*d*Lb(c+Pb/2)}var e=a(b,c),f=(1-Cb(b*c))/12;return e[1]<0&&(e[0]*=1+f),e[1]>0&&(e[1]*=1+f/1.5*e[0]*e[0]),e}}function r(a,b){var c,d=a*Lb(b),e=30;do b-=c=(b+Lb(b)-d)/(1+Cb(b));while(zb(c)>Nb&&--e>0);return b/2}function s(a,b,c){function e(d,e){return[a*d*Cb(e=r(c,e)),b*Lb(e)]}return e.invert=function(e,f){return f=d(f/b),[e/(a*Cb(f)),d((2*f+Lb(2*f))/c)]},e}function t(a,b){var c=r(Pb,b);return[_b*a/(1/Cb(b)+ac/Cb(c)),(b+Tb*Lb(c))/_b]}function u(a){var c=0,d=b.geoProjectionMutator(a),e=d(c);return e.parallel=function(a){return arguments.length?d(c=a*Xb):c*Wb},e}function v(a,b){return[a*Cb(b),b]}function w(a){function b(b,d){var e=c+a-d,f=e?b*Cb(d)/e:e;return[e*Lb(f),c-e*Cb(f)]}if(!a)return v;var c=1/Mb(a);return b.invert=function(b,d){var e=f(b*b+(d=c-d)*d),g=c+a-e;return[e/Cb(g)*Bb(b,d),g]},b}function x(a){function b(b,c){var d=Qb-c,e=d?b*a*Lb(d)/d:d;return[d*Lb(e)/a,Qb-d*Cb(e)]}return b.invert=function(b,c){var d=b*a,e=Qb-c,g=f(d*d+e*e),h=Bb(d,e);return[(g?g/Lb(g):1)*h/a,Qb-g]},b}function y(a,b,c,g,h,i){var j,k=Cb(i);if(zb(a)>1||zb(i)>1)j=e(c*h+b*g*k);else{var l=Lb(a/2),m=Lb(i/2);j=2*d(f(l*l+b*g*m*m))}return zb(j)>Nb?[j,Bb(g*Lb(i),b*h-c*g*k)]:[0,0]}function z(a,b,c){return e((a*a+b*b-c*c)/(2*a*b))}function A(a){return a-2*Pb*Eb((a+Pb)/(2*Pb))}function B(a,b,c){for(var d,e=[[a[0],a[1],Lb(a[1]),Cb(a[1])],[b[0],b[1],Lb(b[1]),Cb(b[1])],[c[0],c[1],Lb(c[1]),Cb(c[1])]],f=e[2],g=0;g<3;++g,f=d)d=e[g],f.v=y(d[1]-f[1],f[3],f[2],d[3],d[2],d[0]-f[0]),f.point=[0,0];var h=z(e[0].v[0],e[2].v[0],e[1].v[0]),i=z(e[0].v[0],e[1].v[0],e[2].v[0]),j=Pb-h;e[2].point[1]=0,e[0].point[0]=-(e[1].point[0]=e[0].v[0]/2);var k=[e[2].point[0]=e[0].point[0]+e[2].v[0]*Cb(h),2*(e[0].point[1]=e[1].point[1]=e[2].v[0]*Lb(h))];return function(a,b){var c,d=Lb(b),f=Cb(b),g=new Array(3);for(c=0;c<3;++c){var h=e[c];if(g[c]=y(b-h[1],h[3],h[2],f,d,a-h[0]),!g[c][0])return h.point;g[c][1]=A(g[c][1]-h.v[1])}var l=k.slice();for(c=0;c<3;++c){var m=2==c?0:c+1,n=z(e[c].v[0],g[c][0],g[m][0]);g[c][1]<0&&(n=-n),c?1==c?(n=i-n,l[0]-=g[c][0]*Cb(n),l[1]-=g[c][0]*Lb(n)):(n=j-n,l[0]+=g[c][0]*Cb(n),l[1]+=g[c][0]*Lb(n)):(l[0]+=g[c][0]*Cb(n),l[1]-=g[c][0]*Lb(n))}return l[0]/=3,l[1]/=3,l}}function C(a){return a[0]*=Xb,a[1]*=Xb,a}function D(a,c,d){var e=b.geoCentroid({type:"MultiPoint",coordinates:[a,c,d]}),f=[-e[0],-e[1]],g=b.geoRotation(f),h=b.geoProjection(B(C(g(a)),C(g(c)),C(g(d)))).rotate(f),i=h.center;return delete h.rotate,h.center=function(a){return arguments.length?i(g(a)):g.invert(i())},h.clipAngle(90)}function E(a,b){var c=f(1-Lb(b));return[2/Ub*a*c,Ub*(1-c)]}function F(a){function b(a,b){return[a,(a?a/Lb(a):1)*(Lb(b)*Cb(a)-c*Cb(b))]}var c=Mb(a);return b.invert=c?function(a,b){a&&(b*=Lb(a)/a);var d=Cb(a);return[a,2*Bb(f(d*d+c*c-b*b)-d,c-b)]}:function(a,b){return[a,d(a?b*Mb(a)/a:b)]},b}function G(a,b){return[cc*a*(2*Cb(2*b/3)-1)/Ub,cc*Ub*Lb(b/3)]}function H(a){function b(a,b){return[a*c,Lb(b)/c]}var c=Cb(a);return b.invert=function(a,b){return[a/c,d(b*c)]},b}function I(a){function b(a,b){return[a*c,(1+c)*Mb(b/2)]}var c=Cb(a);return b.invert=function(a,b){return[a/c,2*Ab(b/(1+c))]},b}function J(a,b){var c=f(8/(3*Pb));return[c*a*(1-zb(b)/Pb),c*b]}function K(a,b){var c=f(4-3*Lb(zb(b)));return[2/f(6*Pb)*a*c,Kb(b)*f(2*Pb/3)*(2-c)]}function L(a,b){var c=f(Pb*(4+Pb));return[2/c*a*(1+f(1-4*b*b/(Pb*Pb))),4/c*b]}function M(a,b){var c=(2+Qb)*Lb(b);b/=2;for(var d=0,e=1/0;d<10&&zb(e)>Nb;d++){var g=Cb(b);b-=e=(b+Lb(b)*(g+2)-c)/(2*g*(1+g))}return[2/f(Pb*(4+Pb))*a*(1+Cb(b)),2*f(Pb/(4+Pb))*Lb(b)]}function N(a,b){return[a*(1+Cb(b))/f(2+Pb),2*b/f(2+Pb)]}function O(a,b){for(var c=(1+Qb)*Lb(b),d=0,e=1/0;d<10&&zb(e)>Nb;d++)b-=e=(b+Lb(b)-c)/(1+Cb(b));return c=f(2+Pb),[a*(1+Cb(b))/c,2*b/c]}function P(a,b){var c=Lb(a/=2),d=Cb(a),e=f(Cb(b)),g=Cb(b/=2),h=Lb(b)/(g+Tb*d*e),i=f(2/(1+h*h)),j=f((Tb*g+(d+c)*e)/(Tb*g+(d-c)*e));return[dc*(i*(j-1/j)-2*Fb(j)),dc*(i*h*(j+1/j)-2*Ab(h))]}function Q(a,b){var c=Mb(b/2);return[a*ec*f(1-c*c),(1+ec)*c]}function R(a,b){var c=b/2,d=Cb(c);return[2*a/Ub*Cb(b)*d*d,Ub*Mb(c)]}function S(a,b,c){var d,e,f,g=100;c=void 0===c?0:+c,b=+b;do(e=a(c))===(f=a(c+Nb))&&(f=e+Nb),c-=d=-1*Nb*(e-b)/(e-f);while(g-- >0&&zb(d)>Nb);return g<0?NaN:c}function T(a){function b(b,c){var d=Cb(c),f=Lb(c);return[d/(e+a*d)*b,e*c+a*f]}function c(a,c){var d=b(a,c);return[d[0]*h,d[1]/h]}function d(a){return c(0,a)[1]}var e=1-a,g=b(Pb,0)[0]-b(-Pb,0)[0],h=f(2*(b(0,Qb)[1]-b(0,-Qb)[1])/g);return c.invert=function(b,c){var f=S(d,c);return[b/h*(a+e/Cb(f)),f]},c}function U(a){return[a[0]/2,d(Mb(a[1]/2*Xb))*Wb]}function V(a){return[2*a[0],2*Ab(Lb(a[1]*Xb))*Wb]}function W(a,c){function d(c,d){var h=b.geoAzimuthalEquidistantRaw(c,d),i=h[0],j=h[1],k=i*i+j*j;if(k>g){var l=f(k),m=Bb(j,i),n=e*Jb(m/e),o=m-n,p=a*Cb(o),q=(a*Lb(o)-o*Lb(p))/(Qb-p),r=X(o,q),s=(Pb-a)/Y(r,p,Pb);i=l;var t,u=50;do i-=t=(a+Y(r,p,i)*s-l)/(r(i)*s);while(zb(t)>Nb&&--u>0);j=o*Lb(i),i<Qb&&(j-=q*(i-Qb));var v=Lb(n),w=Cb(n);h[0]=i*w-j*v,h[1]=i*v+j*w}return h}var e=2*Pb/c,g=a*a;return d.invert=function(c,d){var h=c*c+d*d;if(h>g){var i=f(h),j=Bb(d,c),k=e*Jb(j/e),l=j-k;c=i*Cb(l),d=i*Lb(l);for(var m=c-Qb,n=Lb(c),o=d/n,p=c<Qb?1/0:0,q=10;;){var r=a*Lb(o),s=a*Cb(o),t=Lb(s),u=Qb-s,v=(r-o*t)/u,w=X(o,v);if(zb(p)<Ob||!--q)break;o-=p=(o*n-v*m-d)/(n-2*m*(u*(s+o*r*Cb(s)-t)-r*(r-o*t))/(u*u))}c=(i=a+Y(w,s,c)*(Pb-a)/Y(w,s,Pb))*Cb(j=k+o),d=i*Lb(j)}return b.geoAzimuthalEquidistantRaw.invert(c,d)},d}function X(a,b){return function(c){var d=a*Cb(c);return c<Qb&&(d-=b),f(1+d*d)}}function Y(a,b,c){for(var d=(c-b)/50,e=a(b)+a(c),f=1,g=b;f<50;++f)e+=2*a(g+=d);return.5*e*d}function Z(a,b,c,e,g,h,i,j){function k(f,k){if(!k)return[a*f/Pb,0];var l=k*k,m=a+l*(b+l*(c+l*e)),n=k*(g-1+l*(h-j+l*i)),o=(m*m+n*n)/(2*n),p=f*d(m/o)/Pb;return[o*Lb(p),k*(1+l*j)+o*(1-Cb(p))]}return arguments.length<8&&(j=0),k.invert=function(k,l){var m,n,o=Pb*k/a,p=l,q=50;do{var r=p*p,s=a+r*(b+r*(c+r*e)),t=p*(g-1+r*(h-j+r*i)),u=s*s+t*t,v=2*t,w=u/v,x=w*w,y=d(s/w)/Pb,z=o*y,A=s*s,B=(2*b+r*(4*c+6*r*e))*p,C=g+r*(3*h+5*r*i),D=(2*(s*B+t*(C-1))*v-u*(2*(C-1)))/(v*v),E=Cb(z),F=Lb(z),G=w*E,H=w*F,I=o/Pb*(1/f(1-A/x))*(B*w-s*D)/x,J=H-k,K=p*(1+r*j)+w-G-l,L=D*F+G*I,M=G*y,N=1+D-(D*E-H*I),O=H*y,P=L*O-N*M;if(!P)break;o-=m=(K*L-J*N)/P,p-=n=(J*O-K*M)/P}while((zb(m)>Nb||zb(n)>Nb)&&--q>0);return[o,p]},k}function $(a,b){var c=a*a,d=b*b;return[a*(1-.162388*d)*(.87-952426e-9*c*c),b*(1+d/12)]}function _(a){function b(b,d){var e=b>0?-.5:.5,f=a(b+e*Pb,d);return f[0]-=e*c,f}var c=a(Qb,0)[0]-a(-Qb,0)[0];return a.invert&&(b.invert=function(b,d){var e=b>0?-.5:.5,f=a.invert(b+e*c,d),g=f[0]-e*Pb;return g<-Pb?g+=2*Pb:g>Pb&&(g-=2*Pb),f[0]=g,f}),b}function aa(a,b){var c=Kb(a),e=Kb(b),g=Cb(b),h=Cb(a)*g,i=Lb(a)*g,j=Lb(e*b);a=zb(Bb(i,j)),b=d(h),zb(a-Qb)>Nb&&(a%=Qb);var k=function(a,b){if(b===Qb)return[0,0];var c,e,g=Lb(b),h=g*g,i=h*h,j=1+i,k=1+3*i,l=1-i,m=d(1/f(j)),n=l+h*j*m,o=(1-g)/n,p=f(o),q=o*j,r=f(q),s=p*l;if(0===a)return[0,-(s+h*r)];var t,u=Cb(b),v=1/u,w=2*g*u,x=(-n*u-(-3*h+m*k)*w*(1-g))/(n*n),y=-v*w,z=-v*(h*j*x+o*k*w),A=-2*v*(l*(.5*x/p)-2*h*p*w),B=4*a/Pb;if(a>.222*Pb||b<Pb/4&&a>.175*Pb){if(c=(s+h*f(q*(1+i)-s*s))/(1+i),a>Pb/4)return[c,c];var C=c,D=.5*c;c=.5*(D+C),e=50;do{var E=f(q-c*c),F=c*(A+y*E)+z*d(c/r)-B;if(!F)break;F<0?D=c:C=c,c=.5*(D+C)}while(zb(C-D)>Nb&&--e>0)}else{c=Nb,e=25;do{var G=c*c,H=f(q-G),I=A+y*H,J=c*I+z*d(c/r)-B,K=I+(z-y*G)/H;c-=t=H?J/K:0}while(zb(t)>Nb&&--e>0)}return[c,-s-h*f(q-c*c)]}(a>Pb/4?Qb-a:a,b);return a>Pb/4&&(j=k[0],k[0]=-k[1],k[1]=-j),k[0]*=c,k[1]*=-e,k}function ba(a,b){var c,e,i,j,k,l;if(b<Nb)return[(j=Lb(a))-(c=b*(a-j*(e=Cb(a)))/4)*e,e+c*j,1-b*j*j/2,a-c];if(b>=1-Nb)return c=(1-b)/4,i=1/(e=h(a)),[(j=((l=Db(2*(l=a)))-1)/(l+1))+c*((k=e*g(a))-a)/(e*e),i-c*j*i*(k-a),i+c*j*i*(k+a),2*Ab(Db(a))-Qb+c*(k-a)/e];var m=[1,0,0,0,0,0,0,0,0],n=[f(b),0,0,0,0,0,0,0,0],o=0;for(e=f(1-b),k=1;zb(n[o]/m[o])>Nb&&o<8;)c=m[o++],n[o]=(c-e)/2,m[o]=(c+e)/2,e=f(c*e),k*=2;i=k*m[o]*a;do i=(d(j=n[o]*Lb(e=i)/m[o])+i)/2;while(--o);return[Lb(i),j=Cb(i),j/Cb(i-e),i]}function ca(a,b){if(!b)return a;if(1===b)return Fb(Mb(a/2+Rb));for(var c=1,d=f(1-b),e=f(b),g=0;zb(e)>Nb;g++){if(a%Pb){var h=Ab(d*Mb(a)/c);h<0&&(h+=Pb),a+=h+~~(a/Pb)*Pb}else a+=a;e=(c+d)/2,d=f(c*d),e=((c=e)-d)/2}return a/(Ib(2,g)*c)}function da(a,b){var c=(Tb-1)/(Tb+1),d=f(1-c*c),e=ca(Qb,d*d),h=Fb(Mb(Pb/4+zb(b)/2)),i=Db(-1*h)/f(c),j=function(a,b){var c=a*a,d=b+1,e=1-c-b*b;return[.5*((a>=0?Qb:-Qb)-Bb(e,2*a)),-.25*Fb(e*e+4*c)+.5*Fb(d*d+c)]}(i*Cb(-1*a),i*Lb(-1*a)),k=function(a,b,c){var d=zb(a),e=g(zb(b));if(d){var h=1/Lb(d),i=1/(Mb(d)*Mb(d)),j=-(i+c*(e*e*h*h)-1+c),k=(-j+f(j*j-(c-1)*i*4))/2;return[ca(Ab(1/f(k)),c)*Kb(a),ca(Ab(f((k/i-1)/c)),1-c)*Kb(b)]}return[0,ca(Ab(e),1-c)*Kb(b)]}(j[0],j[1],d*d);return[-k[1],(b>=0?1:-1)*(.5*e-k[0])]}function ea(a){function b(a,b){var f=g(a,b);a=f[0],b=f[1];var h=Lb(b),i=Cb(b),j=Cb(a),k=e(c*h+d*i*j),l=Lb(k),m=zb(l)>Nb?k/l:1;return[m*d*Lb(a),(zb(a)>Qb?m:-m)*(c*i-d*h*j)]}var c=Lb(a),d=Cb(a),g=fa(a);return g.invert=fa(-a),b.invert=function(a,b){var d=f(a*a+b*b),e=-Lb(d),h=Cb(d),i=d*h,j=-b*e,k=d*c,l=f(i*i+j*j-k*k),m=Bb(i*k+j*l,j*k-i*l),n=(d>Qb?-1:1)*Bb(a*e,d*Cb(m)*h+b*Lb(m)*e);return g.invert(n,m)},b}function fa(a){var b=Lb(a),c=Cb(a);return function(a,e){var f=Cb(e),g=Cb(a)*f,h=Lb(a)*f,i=Lb(e);return[Bb(h,g*c-i*b),d(i*c+g*b)]}}function ga(a){function b(b,k){var l,m=zb(k);if(m>c){var n=Hb(a-1,Gb(0,Eb((b+Pb)/h)));(l=E(b+=Pb*(a-1)/a-n*h,m))[0]=l[0]*Vb/d-Vb*(a-1)/(2*a)+n*Vb/a,l[1]=e+4*(l[1]-f)*g/Vb,k<0&&(l[1]=-l[1])}else l=kc(b,k);return l[0]*=i,l[1]/=j,l}var c=jc*Xb,d=E(Pb,c)[0]-E(-Pb,c)[0],e=kc(0,c)[1],f=E(0,c)[1],g=Ub-f,h=Vb/a,i=4/Vb,j=e+g*g*4/Vb;return b.invert=function(b,c){b/=i;var k=zb(c*=j);if(k>e){var l=Hb(a-1,Gb(0,Eb((b+Pb)/h)));b=(b+Pb*(a-1)/a-l*h)*d/Vb;var m=E.invert(b,.25*(k-e)*Vb/g+f);return m[0]-=Pb*(a-1)/a-l*h,c<0&&(m[1]=-m[1]),m}return kc.invert(b,c)},b}function ha(a,b){return[a,1&b?90-Nb:jc]}function ia(a,b){return[a,1&b?-90+Nb:-jc]}function ja(a){return[a[0]*(1-Nb),a[1]]}function ka(a){function b(b,d){var e,m,n=1-Lb(d);if(n&&n<2){var o,p=Qb-d,q=25;do{var r=Lb(p),s=Cb(p),t=h+Bb(r,g-s),u=1+l-2*g*s;p-=o=(p-k*h-g*r+u*t-.5*n*c)/(2*g*r*t)}while(zb(o)>Ob&&--q>0);e=i*f(u),m=b*t/Pb}else e=i*(a+n),m=b*h/Pb;return[e*Lb(m),j-e*Cb(m)]}var c,g=1+a,h=d(Lb(1/g)),i=2*f(Pb/(c=Pb+4*h*g)),j=.5*i*(g+f(a*(2+a))),k=a*a,l=g*g;return b.invert=function(a,b){var m=a*a+(b-=j)*b,n=(1+l-m/(i*i))/(2*g),o=e(n),p=Lb(o),q=h+Bb(p,g-n);return[d(a/f(m))*Pb/q,d(1-2*(o-k*h-g*p+(1+l-2*g*n)*q)/c)]},b}function la(a,b){return b>-lc?((a=$b(a,b))[1]+=mc,a):v(a,b)}function ma(a,b){return zb(b)>lc?((a=$b(a,b))[1]-=b>0?mc:-mc,a):v(a,b)}function na(a,b,c,e){function g(c){return f(1+a*Cb(2*c)+b*Cb(4*c))}function h(d){var e=d*c;return(2*e+(1+a-b/2)*Lb(2*e)+(a+b)/2*Lb(4*e)+b/2*Lb(6*e))/c}function i(a){return g(a)*Lb(a)}var j=f(4*Pb/(2*c+(1+a-b/2)*Lb(2*c)+(a+b)/2*Lb(4*c)+b/2*Lb(6*c))),k=f(e*Lb(c)*f((1+a*Cb(2*c)+b*Cb(4*c))/(1+a+b))),l=c*h(1),m=function(a,b){var d=c*S(h,l*Lb(b)/c,b/Pb);isNaN(d)&&(d=c*Kb(b));var e=j*g(d);return[e*k*a/Pb*Cb(d),e/k*Lb(d)]};return m.invert=function(a,b){var e=S(i,b*k/j);return[a*Pb/(Cb(e)*j*k*g(e)),d(c*h(e/c)/l)]},0===c&&(j=f(e/Pb),(m=function(a,b){return[a*j,Lb(b)/j]}).invert=function(a,b){return[a/j,d(b*j)]}),m}function oa(a,b,c,d,e){void 0===d&&(d=1e-8),void 0===e&&(e=20);var f=a(b),g=a(.5*(b+c)),h=a(c);return function i(a,b,c,d,e,f,g,h,j,k,l){if(l.nanEncountered)return NaN;var m,n,o,p,q,r,s,t,u,v;if(n=a(b+.25*(m=c-b)),o=a(c-.25*m),isNaN(n))l.nanEncountered=!0;else{if(!isNaN(o))return v=((r=(p=m*(d+4*n+e)/12)+(q=m*(e+4*o+f)/12))-g)/15,k>j?(l.maxDepthCount++,r+v):Math.abs(v)<h?r+v:(t=i(a,b,s=b+.5*m,d,n,e,p,.5*h,j,k+1,l),isNaN(t)?(l.nanEncountered=!0,NaN):(u=i(a,s,c,e,o,f,q,.5*h,j,k+1,l),isNaN(u)?(l.nanEncountered=!0,NaN):t+u));l.nanEncountered=!0}}(a,b,c,f,g,h,(f+4*g+h)*(c-b)/6,d,e,1,{maxDepthCount:0,nanEncountered:!1})}function pa(a,b,c){function e(c){return a+(1-a)*Ib(1-Ib(c,b),1/b)}function f(a){return oa(e,0,a,1e-4)}function g(a){var b=0,c=i,d=i>>1;do k[d]>a?c=d:b=d,d=b+c>>1;while(d>b);var e=k[d+1]-k[d];return e&&(e=(a-k[d+1])/e),(d+1+e)/i}for(var h=1/f(1),i=1e3,j=(1+1e-8)*h,k=[],l=0;l<=i;l++)k.push(f(l/i)*j);var m=2*g(1)/Pb*h/c,n=function(a,b){var c=g(zb(Lb(b))),d=e(c)*a;return c/=m,[d,b>=0?c:-c]};return n.invert=function(a,b){var c;return zb(b*=m)<1&&(c=Kb(b)*d(f(zb(b))*h)),[a/e(zb(b)),c]},n}function qa(a,b){return zb(a[0]-b[0])<Nb&&zb(a[1]-b[1])<Nb}function ra(a,b){for(var c,d,e,f=-1,g=a.length,h=a[0],i=[];++f<g;){d=((c=a[f])[0]-h[0])/b,e=(c[1]-h[1])/b;for(var j=0;j<b;++j)i.push([h[0]+j*d,h[1]+j*e]);h=c}return i.push(c),i}function sa(a,d){function e(b,c){for(var e=c<0?-1:1,f=d[+(c<0)],g=0,h=f.length-1;g<h&&b>f[g][2][0];++g);var i=a(b-f[g][1][0],c);return i[0]+=a(f[g][1][0],e*c>e*f[g][0][1]?f[g][0][1]:c)[0],i}var f,g;a.invert&&(e.invert=function(b,c){for(var f=g[+(c<0)],h=d[+(c<0)],i=0,j=f.length;i<j;++i){var k=f[i];if(k[0][0]<=b&&b<k[1][0]&&k[0][1]<=c&&c<k[1][1]){var l=a.invert(b-a(h[i][1][0],0)[0],c);return l[0]+=h[i][1][0],qa(e(l[0],l[1]),[b,c])?l:null}}});var h=b.geoProjection(e),i=h.stream;return h.stream=function(a){var c=h.rotate(),d=i(a),e=(h.rotate([0,0]),i(a));return h.rotate(c),d.sphere=function(){b.geoStream(f,e)},d},h.lobes=function(b){return arguments.length?(f=function(a){var b,d,e,f,g,h,i,j=[],k=a[0].length;for(i=0;i<k;++i)d=(b=a[0][i])[0][0],e=b[0][1],f=b[1][1],g=b[2][0],h=b[2][1],j.push(ra([[d+Nb,e+Nb],[d+Nb,f-Nb],[g-Nb,f-Nb],[g-Nb,h+Nb]],30));for(i=a[1].length-1;i>=0;--i)d=(b=a[1][i])[0][0],e=b[0][1],f=b[1][1],g=b[2][0],h=b[2][1],j.push(ra([[g-Nb,h-Nb],[g-Nb,f+Nb],[d+Nb,f+Nb],[d+Nb,e-Nb]],30));return{type:"Polygon",coordinates:[c.merge(j)]}}(b),d=b.map(function(a){return a.map(function(a){return[[a[0][0]*Xb,a[0][1]*Xb],[a[1][0]*Xb,a[1][1]*Xb],[a[2][0]*Xb,a[2][1]*Xb]]})}),g=d.map(function(b){return b.map(function(b){var c,d=a(b[0][0],b[0][1])[0],e=a(b[2][0],b[2][1])[0],f=a(b[1][0],b[0][1])[1],g=a(b[1][0],b[1][1])[1];return f>g&&(c=f,f=g,g=c),[[d,f],[e,g]]})}),h):d.map(function(a){return a.map(function(a){return[[a[0][0]*Wb,a[0][1]*Wb],[a[1][0]*Wb,a[1][1]*Wb],[a[2][0]*Wb,a[2][1]*Wb]]})})},null!=d&&h.lobes(d),h}function ta(a,b){return[3/Vb*a*f(Pb*Pb/3-b*b),b]}function ua(a){function b(b,c){if(zb(zb(c)-Qb)<Nb)return[0,c<0?-2:2];var d=Lb(c),e=Ib((1+d)/(1-d),a/2),f=.5*(e+1/e)+Cb(b*=a);return[2*Lb(b)/f,(e-1/e)/f]}return b.invert=function(b,c){var e=zb(c);if(zb(e-2)<Nb)return b?null:[0,Kb(c)*Qb];if(e>2)return null;var f=(b/=2)*b,g=(c/=2)*c,h=2*c/(1+f+g);return h=Ib((1+h)/(1-h),1/a),[Bb(2*b,1-f-g)/a,d((h-1)/(h+1))]},b}function va(a,b){return[a*(1+f(Cb(b)))/2,b/(Cb(b/2)*Cb(a/6))]}function wa(a,b){var c=a*a,d=b*b;return[a*(.975534+d*(-.0143059*c-.119161+-.0547009*d)),b*(1.00384+c*(.0802894+-.02855*d+199025e-9*c)+d*(.0998909+-.0491032*d))]}function xa(a,b){return[Lb(a)/Cb(b),Mb(b)*Cb(a)]}function ya(a){function b(b,e){var f=e-a,g=zb(f)<Nb?b*c:zb(g=Rb+e/2)<Nb||zb(zb(g)-Qb)<Nb?0:b*f/Fb(Mb(g)/d);return[g,f]}var c=Cb(a),d=Mb(Rb+a/2);return b.invert=function(b,e){var f,g=e+a;return[zb(e)<Nb?b/c:zb(f=Rb+g/2)<Nb||zb(zb(f)-Qb)<Nb?0:b*Fb(Mb(f)/d)/e,g]},b}function za(a,b){return[a,1.25*Fb(Mb(Rb+.4*b))]}function Aa(a){function b(b,d){for(var e,f=Cb(d),g=2/(1+f*Cb(b)),h=g*f*Lb(b),i=g*Lb(d),j=c,k=a[j],l=k[0],m=k[1];--j>=0;)l=(k=a[j])[0]+h*(e=l)-i*m,m=k[1]+h*m+i*e;return[l=h*(e=l)-i*m,m=h*m+i*e]}var c=a.length-1;return b.invert=function(b,e){var g=20,h=b,i=e;do{for(var j,k=c,l=a[k],m=l[0],n=l[1],o=0,p=0;--k>=0;)o=m+h*(j=o)-i*p,p=n+h*p+i*j,m=(l=a[k])[0]+h*(j=m)-i*n,n=l[1]+h*n+i*j;var q,r,s=(o=m+h*(j=o)-i*p)*o+(p=n+h*p+i*j)*p;h-=q=((m=h*(j=m)-i*n-b)*o+(n=h*n+i*j-e)*p)/s,i-=r=(n*o-m*p)/s}while(zb(q)+zb(r)>Nb*Nb&&--g>0);if(g){var t=f(h*h+i*i),u=2*Ab(.5*t),v=Lb(u);return[Bb(h*v,t*Cb(u)),t?d(i*v/t):0]}},b}function Ba(a,c){var d=b.geoProjection(Aa(a)).rotate(c).clipAngle(90),e=b.geoRotation(c),f=d.center;return delete d.rotate,d.center=function(a){return arguments.length?f(e(a)):e.invert(f())},d}function Ca(a,b){var c=d(7*Lb(b)/(3*zc));return[zc*a*(2*Cb(2*c/3)-1)/Ac,9*Lb(c/3)/Ac]}function Da(a,b){for(var c,d=(1+Sb)*Lb(b),e=b,g=0;g<25&&(e-=c=(Lb(e/2)+Lb(e)-d)/(.5*Cb(e/2)+Cb(e)),!(zb(c)<Nb));g++);return[a*(1+2*Cb(e)/Cb(e/2))/(3*Tb),2*f(3)*Lb(e/2)/f(2+Tb)]}function Ea(a,b){for(var c,d=f(6/(4+Pb)),e=(1+Pb/4)*Lb(b),g=b/2,h=0;h<25&&(g-=c=(g/2+Lb(g)-e)/(.5+Cb(g)),!(zb(c)<Nb));h++);return[d*(.5+Cb(g))*a/1.5,d*g]}function Fa(a,b){var c=b*b,d=c*c,e=c*d;return[a*(.84719-.13063*c+e*e*(.05494*c-.04515-.02326*d+.00331*e)),b*(1.01183+d*d*(.01926*c-.02625-.00396*d))]}function Ga(a,b){return[a*(1+Cb(b))/2,2*(b-Mb(b/2))]}function Ha(a,b){var c=Lb(b),d=Cb(b),e=Kb(a);if(0===a||zb(b)===Qb)return[0,b];if(0===b)return[a,0];if(zb(a)===Qb)return[a*d,Qb*c];var g=Pb/(2*a)-2*a/Pb,h=2*b/Pb,i=(1-h*h)/(c-h),j=g*g,k=i*i,l=1+j/k,m=1+k/j,n=(g*c/i-g/2)/l,o=(k*c/j+i/2)/m,p=o*o-(k*c*c/j+i*c-1)/m;return[Qb*(n+f(n*n+d*d/l)*e),Qb*(o+f(p<0?0:p)*Kb(-b*g)*e)]}function Ia(a,b){var c=b*b;return[a,b*(Cc+c*c*(Dc+c*(Ec+Fc*c)))]}function Ja(a,b){if(zb(b)<Nb)return[a,0];var c=Mb(b),d=a*Lb(b);return[Lb(d)/c,b+(1-Cb(d))/c]}function Ka(a,b){var c=Ma(a[1],a[0]),d=Ma(b[1],b[0]),e=function(a,b){return Bb(a[0]*b[1]-a[1]*b[0],a[0]*b[0]+a[1]*b[1])}(c,d),f=Na(c)/Na(d);return La([1,0,a[0][0],0,1,a[0][1]],La([f,0,0,0,f,0],La([Cb(e),Lb(e),0,-Lb(e),Cb(e),0],[1,0,-b[0][0],0,1,-b[0][1]])))}function La(a,b){return[a[0]*b[0]+a[1]*b[3],a[0]*b[1]+a[1]*b[4],a[0]*b[2]+a[1]*b[5]+a[2],a[3]*b[0]+a[4]*b[3],a[3]*b[1]+a[4]*b[4],a[3]*b[2]+a[4]*b[5]+a[5]]}function Ma(a,b){return[a[0]-b[0],a[1]-b[1]]}function Na(a){return f(a[0]*a[0]+a[1]*a[1])}function Oa(a,c,d){function e(a,b){var d,e=c(a,b),f=e.project([a*Wb,b*Wb]);return(d=e.transform)?[d[0]*f[0]+d[1]*f[1]+d[2],-(d[3]*f[0]+d[4]*f[1]+d[5])]:(f[1]=-f[1],f)}!function h(a,b){if(a.edges=function(a){for(var b=a.length,c=[],d=a[b-1],e=0;e<b;++e)c.push([d,d=a[e]]);return c}(a.face),b.face){var c=a.shared=function(a,b){for(var c,d,e=a.length,f=null,g=0;g<e;++g){c=a[g];for(var h=b.length;--h>=0;)if(d=b[h],c[0]===d[0]&&c[1]===d[1]){if(f)return[f,c];f=c}}}(a.face,b.face),d=Ka(c.map(b.project),c.map(a.project));a.transform=b.transform?La(b.transform,d):d;for(var e=b.edges,f=0,g=e.length;f<g;++f)Pa(c[0],e[f][1])&&Pa(c[1],e[f][0])&&(e[f]=a),Pa(c[0],e[f][0])&&Pa(c[1],e[f][1])&&(e[f]=a);for(e=a.edges,f=0,g=e.length;f<g;++f)Pa(c[0],e[f][0])&&Pa(c[1],e[f][1])&&(e[f]=b),Pa(c[0],e[f][1])&&Pa(c[1],e[f][0])&&(e[f]=b)}else a.transform=b.transform;return a.children&&a.children.forEach(function(b){h(b,a)}),a}(a,{transform:null}),Qa(a)&&(e.invert=function(b,d){var e=function f(a,b){var d=a.project.invert,e=a.transform,g=b;e&&(i=1/((h=e)[0]*h[4]-h[1]*h[3]),e=[i*h[4],-i*h[1],i*(h[1]*h[5]-h[2]*h[4]),-i*h[3],i*h[0],i*(h[2]*h[3]-h[0]*h[5])],g=[e[0]*g[0]+e[1]*g[1]+e[2],e[3]*g[0]+e[4]*g[1]+e[5]]);var h,i;if(d&&a===function(a){return c(a[0]*Xb,a[1]*Xb)}(j=d(g)))return j;for(var j,k=a.children,l=0,m=k&&k.length;l<m;++l)if(j=f(k[l],b))return j}(a,[b,-d]);return e&&(e[0]*=Xb,e[1]*=Xb,e)});var f=b.geoProjection(e),g=f.stream;return f.stream=function(c){var d=f.rotate(),e=g(c),h=(f.rotate([0,0]),g(c));return f.rotate(d),e.sphere=function(){h.polygonStart(),h.lineStart(),function c(a,d,e){var f,g,h=d.edges,i=h.length,j={type:"MultiPoint",coordinates:d.face},k=d.face.filter(function(a){return 90!==zb(a[1])}),l=b.geoBounds({type:"MultiPoint",coordinates:k}),m=!1,n=-1,o=l[1][0]-l[0][0],p=180===o||360===o?[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2]:b.geoCentroid(j);if(e)for(;++n<i&&h[n]!==e;);++n;for(var q=0;q<i;++q)g=h[(q+n)%i],Array.isArray(g)?(m||(a.point((f=b.geoInterpolate(g[0],p)(Nb))[0],f[1]),m=!0),a.point((f=b.geoInterpolate(g[1],p)(Nb))[0],f[1])):(m=!1,g!==e&&c(a,g,d))}(h,a),h.lineEnd(),h.polygonEnd()},e},f.angle(null==d?-30:d*Wb)}function Pa(a,b){return a&&b&&a[0]===b[0]&&a[1]===b[1]}function Qa(a){return a.project.invert||a.children&&a.children.some(Qa)}function Ra(a,b){var c=E(a,b);return[c[0]*Mc,c[1]]}function Sa(a,b){for(var c=0,d=a.length,e=0;c<d;++c)e+=a[c]*b[c];return e}function Ta(a){return[Bb(a[1],a[0])*Wb,d(Gb(-1,Hb(1,a[2])))*Wb]}function Ua(a){var b=a[0]*Xb,c=a[1]*Xb,d=Cb(c);return[d*Cb(b),d*Lb(b),Lb(c)]}function Va(){}function Wa(a,b){return{type:"FeatureCollection",features:a.features.map(function(a){return Xa(a,b)})}}function Xa(a,b){return{type:"Feature",id:a.id,properties:a.properties,geometry:Ya(a.geometry,b)}}function Ya(a,c){if(!a)return null;if("GeometryCollection"===a.type)return function(a,b){return{type:"GeometryCollection",geometries:a.geometries.map(function(a){return Ya(a,b)})}}(a,c);var d;switch(a.type){case"Point":case"MultiPoint":d=Pc;break;case"LineString":case"MultiLineString":d=Qc;break;case"Polygon":case"MultiPolygon":case"Sphere":d=Rc;break;default:return null}return b.geoStream(a,c(d)),d.result()}function Za(a){function c(b,c){var e=zb(b)<Qb,f=a(e?b:b>0?b-Pb:b+Pb,c),g=(f[0]-f[1])*Sb,h=(f[0]+f[1])*Sb;if(e)return[g,h];var i=d*Sb,j=g>0^h>0?-1:1;return[j*g-Kb(h)*i,j*h-Kb(g)*i]}var d=a(Qb,0)[0]-a(-Qb,0)[0];return a.invert&&(c.invert=function(b,c){var e=(b+c)*Sb,f=(c-b)*Sb,g=zb(e)<.5*d&&zb(f)<.5*d;if(!g){var h=d*Sb,i=e>0^f>0?-1:1,j=-i*b+(f>0?1:-1)*h,k=-i*c+(e>0?1:-1)*h;e=(-j-k)*Sb,f=(j-k)*Sb}var l=a.invert(e,f);return g||(l[0]+=e>0?Pb:-Pb),l}),b.geoProjection(c).rotate([-90,-90,45]).clipAngle(179.999)}function $a(){return Za(da).scale(111.48)}function _a(a){function b(b,d){var e=c?Mb(b*c/2)/c:b/2;if(!d)return[2*e,-a];var f=2*Ab(e*Lb(d)),g=1/Mb(d);return[Lb(f)*g,d+(1-Cb(f))*g-a]}var c=Lb(a);return b.invert=function(b,f){if(zb(f+=a)<Nb)return[c?2*Ab(c*b/2)/c:b,0];var g,h=b*b+f*f,i=0,j=10;do{var k=Mb(i),l=1/Cb(i),m=h-2*f*i+i*i;i-=g=(k*m+2*(i-f))/(2+m*l*l+2*(i-f)*k)}while(zb(g)>Nb&&--j>0);var n=b*(k=Mb(i)),o=Mb(zb(f)<zb(i+1/k)?.5*d(n):.5*e(n)+Pb/4)/Lb(i);return[c?2*Ab(c*o)/c:2*o,i]},b}function ab(a,b){var c,d=Hb(18,36*zb(b)/Pb),e=Eb(d),f=d-e,g=(c=Sc[e])[0],h=c[1],i=(c=Sc[++e])[0],j=c[1],k=(c=Sc[Hb(19,++e)])[0],l=c[1];return[a*(i+f*(k-g)/2+f*f*(k-2*i+g)/2),(b>0?Qb:-Qb)*(j+f*(l-h)/2+f*f*(l-2*j+h)/2)]}function bb(a,b){function c(b,c){var d=e(b,c),f=d[1],i=f*h/(a-1)+g;return[d[0]*g/i,f/i]}var e=function(a){function b(b,c){var d=Cb(c),e=(a-1)/(a-d*Cb(b));return[e*d*Lb(b),e*Lb(c)]}return b.invert=function(b,c){var e=b*b+c*c,g=f(e),h=(a-f(1-e*(a+1)/(a-1)))/((a-1)/g+g/(a-1));return[Bb(b*h,g*f(1-h*h)),g?d(c*h/g):0]},b}(a);if(!b)return e;var g=Cb(b),h=Lb(b);return c.invert=function(b,c){var d=(a-1)/(a-1-c*h);return e.invert(d*b,d*c*g)},c}function cb(a){return a.length>0}function db(a){return a===Yc||a===$c?[0,a]:[Uc,(b=a,Math.floor(b*Tc)/Tc)];var b}function eb(a){var b=a[0],c=a[1],d=!1;return b<=Vc?(b=Uc,d=!0):b>=Xc&&(b=Wc,d=!0),c<=Zc?(c=Yc,d=!0):c>=_c&&(c=$c,d=!0),d?[b,c]:a}function fb(a){return a.map(eb)}function gb(a,b,c){for(var d=0,e=a.length;d<e;++d){var f=a[d].slice();c.push({index:-1,polygon:b,ring:f});for(var g=0,h=f.length;g<h;++g){var i=f[g],j=i[0],k=i[1];if(j<=Vc||j>=Xc||k<=Zc||k>=_c){f[g]=eb(i);for(var l=g+1;l<h;++l){var m=f[l],n=m[0],o=m[1];if(n>Vc&&n<Xc&&o>Zc&&o<_c)break}if(l===g+1)continue;if(g){var p={index:-1,polygon:b,ring:f.slice(0,g+1)};p.ring[p.ring.length-1]=db(k),c[c.length-1]=p}else c.pop();if(l>=h)break;c.push({index:-1,polygon:b,ring:f=f.slice(l-1)}),f[0]=db(f[0][1]),g=-1,h=f.length}}}}function hb(a){var b,c,d,e,f,g,h=a.length,i={},j={};for(b=0;b<h;++b)d=(c=a[b]).ring[0],f=c.ring[c.ring.length-1],d[0]!==f[0]||d[1]!==f[1]?(c.index=b,i[d]=j[f]=c):(c.polygon.push(c.ring),a[b]=null);for(b=0;b<h;++b)if(c=a[b]){if(d=c.ring[0],f=c.ring[c.ring.length-1],e=j[d],g=i[f],delete i[d],delete j[f],d[0]===f[0]&&d[1]===f[1]){c.polygon.push(c.ring);continue}e?(delete j[d],delete i[e.ring[0]],e.ring.pop(),a[e.index]=null,c={index:-1,polygon:e.polygon,ring:e.ring.concat(c.ring)},e===g?c.polygon.push(c.ring):(c.index=h++,a.push(i[c.ring[0]]=j[c.ring[c.ring.length-1]]=c))):g?(delete i[f],delete j[g.ring[g.ring.length-1]],c.ring.pop(),c={index:h++,polygon:g.polygon,ring:c.ring.concat(g.ring)},a[g.index]=null,a.push(i[c.ring[0]]=j[c.ring[c.ring.length-1]]=c)):(c.ring.push(c.ring[0]),c.polygon.push(c.ring))}}function ib(a){var b={type:"Feature",geometry:jb(a.geometry)};return null!=a.id&&(b.id=a.id),null!=a.bbox&&(b.bbox=a.bbox),null!=a.properties&&(b.properties=a.properties),b}function jb(a){if(null==a)return a;var b,c,d,e;switch(a.type){case"GeometryCollection":b={type:"GeometryCollection",geometries:a.geometries.map(jb)};break;case"Point":b={type:"Point",coordinates:eb(a.coordinates)};break;case"MultiPoint":case"LineString":b={type:a.type,coordinates:fb(a.coordinates)};break;case"MultiLineString":b={type:"MultiLineString",coordinates:a.coordinates.map(fb)};break;case"Polygon":var f=[];gb(a.coordinates,f,c=[]),hb(c),b={type:"Polygon",coordinates:f};break;case"MultiPolygon":c=[],d=-1,e=a.coordinates.length;for(var g=new Array(e);++d<e;)gb(a.coordinates[d],g[d]=[],c);hb(c),b={type:"MultiPolygon",coordinates:g.filter(cb)};break;default:return a}return null!=a.bbox&&(b.bbox=a.bbox),b}function kb(a,b){var c=Mb(b/2),d=Lb(Rb*c);return[a*(.74482-.34588*d*d),1.70711*c]}function lb(a,c,e){var f=b.geoInterpolate(c,e),g=f(.5),h=b.geoRotation([-g[0],-g[1]])(c),i=f.distance/2,j=-d(Lb(h[1]*Xb)/Lb(i)),k=[-g[0],-g[1],-(h[0]>0?Pb-j:j)*Wb],l=b.geoProjection(a(i)).rotate(k),m=b.geoRotation(k),n=l.center;return delete l.rotate,l.center=function(a){return arguments.length?n(m(a)):m.invert(n())},l.clipAngle(90)}function mb(a){function c(a,c){var e=b.geoGnomonicRaw(a,c);return e[0]*=d,e}var d=Cb(a);return c.invert=function(a,c){return b.geoGnomonicRaw.invert(a/d,c)},c}function nb(a,b){return lb(mb,a,b)}function ob(a){function c(b,c){var i=e(Cb(c)*Cb(b-d)),j=e(Cb(c)*Cb(b-g));return[((i*=i)-(j*=j))/(2*a),(c<0?-1:1)*f(4*h*j-(h-i+j)*(h-i+j))/(2*a)]}if(!(a*=2))return b.geoAzimuthalEquidistantRaw;var d=-a/2,g=-d,h=a*a,i=Mb(g),j=.5/Lb(g);return c.invert=function(a,b){var c,h,k=b*b,l=Cb(f(k+(c=a+d)*c)),m=Cb(f(k+(c=a+g)*c));return[Bb(h=l-m,c=(l+m)*i),(b<0?-1:1)*e(f(c*c+h*h)*j)]},c}function pb(a,b){return lb(ob,a,b)}function qb(a,b){if(zb(b)<Nb)return[a,0];var c=zb(b/Qb),e=d(c);if(zb(a)<Nb||zb(zb(b)-Qb)<Nb)return[0,Kb(b)*Pb*Mb(e/2)];var g=Cb(e),h=zb(Pb/a-a/Pb)/2,i=h*h,j=g/(c+g-1),k=j*(2/c-1),l=k*k,m=l+i,n=j-l,o=i+j;return[Kb(a)*Pb*(h*n+f(i*n*n-m*(j*j-l)))/m,Kb(b)*Pb*(k*o-h*f((i+1)*m-o*o))/m]}function rb(a,b){if(zb(b)<Nb)return[a,0];var c=zb(b/Qb),e=d(c);if(zb(a)<Nb||zb(zb(b)-Qb)<Nb)return[0,Kb(b)*Pb*Mb(e/2)];var g=Cb(e),h=zb(Pb/a-a/Pb)/2,i=h*h,j=g*(f(1+i)-h*g)/(1+i*c*c);return[Kb(a)*Pb*j,Kb(b)*Pb*f(1-j*(2*h+j))]}function sb(a,b){if(zb(b)<Nb)return[a,0];var c=b/Qb,e=d(c);if(zb(a)<Nb||zb(zb(b)-Qb)<Nb)return[0,Pb*Mb(e/2)];var g=(Pb/a-a/Pb)/2,h=c/(1+Cb(e));return[Pb*(Kb(a)*f(g*g+1-h*h)-g),Pb*h]}function tb(a,b){if(!b)return[a,0];var c=zb(b);if(!a||c===Qb)return[0,b];var d=c/Qb,e=d*d,g=(8*d-e*(e+2)-5)/(2*e*(d-1)),h=g*g,i=d*g,j=e+h+2*i,k=d+3*g,l=a/Qb,m=l+1/l,n=Kb(zb(a)-Qb)*f(m*m-4),o=n*n,p=(n*(j+h-1)+2*f(j*(e+h*o-1)+(1-e)*(e*(k*k+4*h)+12*i*h+4*h*h)))/(4*j+o);return[Kb(a)*Qb*p,Kb(b)*Qb*f(1+n*zb(p)-p*p)]}function ub(a,b,c,g){var h=Pb/3;a=Gb(a,Nb),b=Gb(b,Nb),a=Hb(a,Qb),b=Hb(b,Pb-Nb),c=Gb(c,0),c=Hb(c,100-Nb);var i=(g=Gb(g,Nb))/100,j=e((c/100+1)*Cb(h))/h,k=Lb(a)/Lb(j*Qb),l=b/Pb,m=f(i*Lb(a/2)/Lb(b/2));return function(a,b,c,e,g){function h(d,h){var i=c*Lb(e*h),j=f(1-i*i),k=f(2/(1+j*Cb(d*=g)));return[a*j*k*Lb(d),b*i*k]}return h.invert=function(h,i){var j=h/a,k=i/b,l=f(j*j+k*k),m=2*d(l/2);return[Bb(h*Mb(m),a*l)/g,l&&d(i*Lb(m)/(b*c*l))/e]},h}(m/f(l*k*j),1/(m*f(l*k*j)),k,j,l)}function vb(a,b){return[a*f(1-3*b*b/(Pb*Pb)),b]}function wb(a,b){var c=.90631*Lb(b),d=f(1-c*c),e=f(2/(1+d*Cb(a/=3)));return[2.66723*d*e*Lb(a),1.24104*c*e]}function xb(a,b){var c=Cb(b),d=Cb(a)*c,e=1-d,g=Cb(a=Bb(Lb(a)*c,-Lb(b))),h=Lb(a);return[h*(c=f(1-d*d))-g*e,-g*c-h*e]}function yb(a,b){var c=j(a,b);return[(c[0]+a/Qb)/2,(c[1]+b)/2]}var zb=Math.abs,Ab=Math.atan,Bb=Math.atan2,Cb=Math.cos,Db=Math.exp,Eb=Math.floor,Fb=Math.log,Gb=Math.max,Hb=Math.min,Ib=Math.pow,Jb=Math.round,Kb=Math.sign||function(a){return a>0?1:a<0?-1:0},Lb=Math.sin,Mb=Math.tan,Nb=1e-6,Ob=1e-12,Pb=Math.PI,Qb=Pb/2,Rb=Pb/4,Sb=Math.SQRT1_2,Tb=f(2),Ub=f(Pb),Vb=2*Pb,Wb=180/Pb,Xb=Pb/180;j.invert=function(a,b){if(!(a*a+4*b*b>Pb*Pb+Nb)){var c=a,d=b,g=25;do{var h,i=Lb(c),j=Lb(c/2),k=Cb(c/2),l=Lb(d),m=Cb(d),n=Lb(2*d),o=l*l,p=m*m,q=j*j,r=1-p*k*k,s=r?e(m*k)*f(h=1/r):h=0,t=2*s*m*j-a,u=s*l-b,v=h*(p*q+s*m*k*o),w=h*(.5*i*n-2*s*l*j),x=.25*h*(n*j-s*l*p*i),y=h*(o*k+s*q*m),z=w*x-y*v;if(!z)break;var A=(u*w-t*y)/z,B=(t*x-u*v)/z;c-=A,d-=B}while((zb(A)>Nb||zb(B)>Nb)&&--g>0);return[c,d]}},l.invert=function(a,b){if(b*=3/8,!(a*=3/8)&&zb(b)>1)return null;var c=1+a*a+b*b,e=f((c-f(c*c-4*b*b))/2),i=d(e)/3,j=e?function(a){return Fb(a+f(a*a-1))}(zb(b/e))/3:function(a){return Fb(a+f(a*a+1))}(zb(a))/3,k=Cb(i),l=h(j),m=l*l-k*k;return[2*Kb(a)*Bb(g(j)*k,.25-m),2*Kb(b)*Bb(l*Lb(i),.25+m)]};var Yb=f(8),Zb=Fb(1+Tb);m.invert=function(a,b){if((d=zb(b))<Zb)return[a,2*Ab(Db(b))-Qb];var c,d,e=Rb,f=25;do{var g=Cb(e/2),h=Mb(e/2);e-=c=(Yb*(e-Rb)-Fb(h)-d)/(Yb-g*g/(2*h))}while(zb(c)>Ob&&--f>0);return[a/(Cb(e)*(Yb-1/Lb(e))),Kb(b)*e]},p.invert=function(a,b){var c=2*d(b/2);return[a*Cb(c/2)/Cb(c),c]};var $b=s(Tb/Qb,Tb,Pb),_b=2.00276,ac=1.11072;t.invert=function(a,b){var c,d,e=_b*b,f=b<0?-Rb:Rb,g=25;do d=e-Tb*Lb(f),f-=c=(Lb(2*f)+2*f-Pb*Lb(d))/(2*Cb(2*f)+2+Pb*Cb(d)*Tb*Cb(f));while(zb(c)>Nb&&--g>0);return d=e-Tb*Lb(f),[a*(1/Cb(d)+ac/Cb(f))/_b,d]},v.invert=function(a,b){return[a/Cb(b),b]};var bc=s(1,4/Pb,Pb);E.invert=function(a,b){var c=(c=b/Ub-1)*c;return[c>0?a*f(Pb/c)/2:0,d(1-c)]};var cc=f(3);G.invert=function(a,b){var c=3*d(b/(cc*Ub));return[Ub*a/(cc*(2*Cb(2*c/3)-1)),c]},J.invert=function(a,b){var c=f(8/(3*Pb)),d=b/c;return[a/(c*(1-zb(d)/Pb)),d]},K.invert=function(a,b){var c=2-zb(b)/f(2*Pb/3);return[a*f(6*Pb)/(2*c),Kb(b)*d((4-c*c)/3)];
},L.invert=function(a,b){var c=f(Pb*(4+Pb))/2;return[a*c/(1+f(1-b*b*(4+Pb)/(4*Pb))),b*c/2]},M.invert=function(a,b){var c=b*f((4+Pb)/Pb)/2,e=d(c),g=Cb(e);return[a/(2/f(Pb*(4+Pb))*(1+g)),d((e+c*(g+2))/(2+Qb))]},N.invert=function(a,b){var c=f(2+Pb),d=b*c/2;return[c*a/(1+Cb(d)),d]},O.invert=function(a,b){var c=1+Qb,e=f(c/2);return[2*a*e/(1+Cb(b*=e)),d((b+Lb(b))/c)]};var dc=3+2*Tb;P.invert=function(a,b){if(!(c=l.invert(a/1.2,1.065*b)))return null;var c,d=c[0],e=c[1],g=20;a/=dc,b/=dc;do{var h=d/2,i=e/2,j=Lb(h),k=Cb(h),m=Lb(i),n=Cb(i),o=Cb(e),p=f(o),q=m/(n+Tb*k*p),r=q*q,s=f(2/(1+r)),t=(Tb*n+(k+j)*p)/(Tb*n+(k-j)*p),u=f(t),v=u-1/u,w=u+1/u,x=s*v-2*Fb(u)-a,y=s*q*w-2*Ab(q)-b,z=m&&Sb*p*j*r/m,A=(Tb*k*n+p)/(2*(n+Tb*k*p)*(n+Tb*k*p)*p),B=-.5*q*s*s*s,C=B*z,D=B*A,E=(E=2*n+Tb*p*(k-j))*E*u,F=(Tb*k*n*p+o)/E,G=-Tb*j*m/(p*E),H=v*C-2*F/u+s*(F+F/t),I=v*D-2*G/u+s*(G+G/t),J=q*w*C-2*z/(1+r)+s*w*z+s*q*(F-F/t),K=q*w*D-2*A/(1+r)+s*w*A+s*q*(G-G/t),L=I*J-K*H;if(!L)break;var M=(y*I-x*K)/L,N=(x*J-y*H)/L;d-=M,e=Gb(-Qb,Hb(Qb,e-N))}while((zb(M)>Nb||zb(N)>Nb)&&--g>0);return zb(zb(e)-Qb)<Nb?[0,e]:g&&[d,e]};var ec=Cb(35*Xb);Q.invert=function(a,b){var c=b/(1+ec);return[a&&a/(ec*f(1-c*c)),2*Ab(c)]},R.invert=function(a,b){var c=Ab(b/Ub),d=Cb(c),e=2*c;return[a*Ub/2/(Cb(e)*d*d),e]};var fc=Z(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),gc=Z(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),hc=Z(5/6*Pb,-.62636,-.0344,0,1.3493,-.05524,0,.045);$.invert=function(a,b){var c,d=a,e=b,f=50;do{var g=e*e;e-=c=(e*(1+g/12)-b)/(1+g/4)}while(zb(c)>Nb&&--f>0);f=50,a/=1-.162388*g;do{var h=(h=d*d)*h;d-=c=(d*(.87-952426e-9*h)-a)/(.87-.00476213*h)}while(zb(c)>Nb&&--f>0);return[d,e]};var ic=Z(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);aa.invert=function(a,b){zb(a)>1&&(a=2*Kb(a)-a),zb(b)>1&&(b=2*Kb(b)-b);var c=Kb(a),e=Kb(b),g=-c*a,h=-e*b,i=h/g<1,j=function(a,b){for(var c=0,e=1,g=.5,h=50;;){var i=g*g,j=f(g),k=d(1/f(1+i)),l=1-i+g*(1+i)*k,m=(1-j)/l,n=f(m),o=m*(1+i),p=n*(1-i),q=o-a*a,r=f(q),s=b+p+g*r;if(zb(e-c)<Ob||0==--h||0===s)break;s>0?c=g:e=g,g=.5*(c+e)}if(!h)return null;var t=d(j),u=Cb(t),v=1/u,w=2*j*u,x=(-l*u-(-3*g+k*(1+3*i))*w*(1-j))/(l*l);return[Pb/4*(a*(-2*v*(.5*x/n*(1-i)-2*g*n*w)+-v*w*r)+-v*(g*(1+i)*x+m*(1+3*i)*w)*d(a/f(o))),t]}(i?h:g,i?g:h),k=j[0],l=j[1],m=Cb(l);return i&&(k=-Qb-k),[c*(Bb(Lb(k)*m,-Lb(l))+Pb),e*d(Cb(k)*m)]},da.invert=function(a,b){var c,d,e,g,h,i,j=(Tb-1)/(Tb+1),k=f(1-j*j),l=ca(Qb,k*k),m=(d=-a,e=k*k,(c=.5*l-b)?(g=ba(c,e),d?(i=(h=ba(d,1-e))[1]*h[1]+e*g[0]*g[0]*h[0]*h[0],[[g[0]*h[2]/i,g[1]*g[2]*h[0]*h[1]/i],[g[1]*h[1]/i,-g[0]*g[2]*h[0]*h[2]/i],[g[2]*h[1]*h[2]/i,-e*g[0]*g[1]*h[0]/i]]):[[g[0],0],[g[1],0],[g[2],0]]):[[0,(h=ba(d,1-e))[0]/h[1]],[1/h[1],0],[h[2]/h[1],0]]),n=function(a,b){var c=b[0]*b[0]+b[1]*b[1];return[(a[0]*b[0]+a[1]*b[1])/c,(a[1]*b[0]-a[0]*b[1])/c]}(m[0],m[1]);return[Bb(n[1],n[0])/-1,2*Ab(Db(-.5*Fb(j*n[0]*n[0]+j*n[1]*n[1])))-Qb]};var jc=41+48/36+37/3600,kc=H(0),lc=.7109889596207567,mc=.0528035274542;la.invert=function(a,b){return b>-lc?$b.invert(a,b-mc):v.invert(a,b)},ma.invert=function(a,b){return zb(b)>lc?$b.invert(a,b+(b>0?mc:-mc)):v.invert(a,b)};var nc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],oc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],pc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],qc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],rc=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],sc=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];ta.invert=function(a,b){return[Vb/3*a/f(Pb*Pb/3-b*b),b]};var tc=Pb/Tb;va.invert=function(a,b){var c=zb(a),d=zb(b),g=Nb,h=Qb;d<tc?h*=d/tc:g+=6*e(tc/d);for(var i=0;i<25;i++){var j=Lb(h),k=f(Cb(h)),l=Lb(h/2),m=Cb(h/2),n=Lb(g/6),o=Cb(g/6),p=.5*g*(1+k)-c,q=h/(m*o)-d,r=k?-.25*g*j/k:0,s=.5*(1+k),t=(1+.5*h*l/m)/(m*o),u=h/m*(n/6)/(o*o),v=r*u-t*s,w=(p*u-q*s)/v,x=(q*r-p*t)/v;if(h-=w,g-=x,zb(w)<Nb&&zb(x)<Nb)break}return[a<0?-g:g,b<0?-h:h]},wa.invert=function(a,b){var c=Kb(a)*Pb,d=b/2,e=50;do{var f=c*c,g=d*d,h=c*d,i=c*(.975534+g*(-.0143059*f-.119161+-.0547009*g))-a,j=d*(1.00384+f*(.0802894+-.02855*g+199025e-9*f)+g*(.0998909+-.0491032*g))-b,k=.975534-g*(.119161+3*f*.0143059+.0547009*g),l=-h*(.238322+.2188036*g+.0286118*f),m=h*(.1605788+7961e-7*f+-.0571*g),n=1.00384+f*(.0802894+199025e-9*f)+g*(3*(.0998909-.02855*f)-.245516*g),o=l*m-n*k,p=(j*l-i*n)/o,q=(i*m-j*k)/o;c-=p,d-=q}while((zb(p)>Nb||zb(q)>Nb)&&--e>0);return e&&[c,d]},xa.invert=function(a,b){var c=a*a,g=b*b+1,h=c+g,i=a?Sb*f((h-f(h*h-4*c))/c):1/f(g);return[d(a*i),Kb(b)*e(i)]},za.invert=function(a,b){return[a,2.5*Ab(Db(.8*b))-.625*Pb]};var uc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],vc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],wc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],xc=[[.9245,0],[0,0],[.01943,0]],yc=[[.721316,0],[0,0],[-.00881625,-.00617325]],zc=f(6),Ac=f(7);Ca.invert=function(a,b){var c=3*d(b*Ac/9);return[a*Ac/(zc*(2*Cb(2*c/3)-1)),d(3*Lb(c)*zc/7)]},Da.invert=function(a,b){var c=b*f(2+Tb)/(2*f(3)),e=2*d(c);return[3*Tb*a/(1+2*Cb(e)/Cb(e/2)),d((c+Lb(e))/(1+Sb))]},Ea.invert=function(a,b){var c=f(6/(4+Pb)),e=b/c;return zb(zb(e)-Qb)<Nb&&(e=e<0?-Qb:Qb),[1.5*a/(c*(.5+Cb(e))),d((e/2+Lb(e))/(1+Pb/4))]},Fa.invert=function(a,b){var c,d,e,f,g=b,h=25;do g-=c=(g*(1.01183+(e=(d=g*g)*d)*e*(.01926*d-.02625-.00396*e))-b)/(1.01183+e*e*(.21186*d-.23625+-.05148*e));while(zb(c)>Ob&&--h>0);return[a/(.84719-.13063*(d=g*g)+(f=d*(e=d*d))*f*(.05494*d-.04515-.02326*e+.00331*f)),g]},Ga.invert=function(a,b){for(var c=b/2,d=0,e=1/0;d<10&&zb(e)>Nb;++d){var f=Cb(b/2);b-=e=(b-Mb(b/2)-c)/(1-.5/(f*f))}return[2*a/(1+Cb(b)),b]};var Bc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];Ha.invert=function(a,b){var c=(a/=Qb)*a,d=c+(b/=Qb)*b,e=Pb*Pb;return[a?(d-1+f((1-d)*(1-d)+4*c))/(2*a)*Qb:0,S(function(a){return d*(Pb*Lb(a)-2*a)*Pb+4*a*a*(b-Lb(a))+2*Pb*a-e*b},0)]};var Cc=1.0148,Dc=.23185,Ec=-.14499,Fc=.02406,Gc=Cc,Hc=5*Dc,Ic=7*Ec,Jc=9*Fc;Ia.invert=function(a,b){b>1.790857183?b=1.790857183:b<-1.790857183&&(b=-1.790857183);var c,d=b;do{var e=d*d;d-=c=(d*(Cc+e*e*(Dc+e*(Ec+Fc*e)))-b)/(Gc+e*e*(Hc+e*(Ic+Jc*e)))}while(zb(c)>Nb);return[a,d]},Ja.invert=function(a,b){if(zb(b)<Nb)return[a,0];var c,f=a*a+b*b,g=.5*b,h=10;do{var i=Mb(g),j=1/Cb(g),k=f-2*b*g+g*g;g-=c=(i*k+2*(g-b))/(2+k*j*j+2*(g-b)*i)}while(zb(c)>Nb&&--h>0);return i=Mb(g),[(zb(b)<zb(g+1/i)?d(a*i):Kb(a)*(e(zb(a*i))+Qb))/Lb(g),g]};var Kc=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Lc=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(a){return a.map(function(a){return Kc[a]})}),Mc=2/f(3);Ra.invert=function(a,b){return E.invert(a/Mc,b)};var Nc=[],Oc=[],Pc={point:function(a,b){Nc.push([a,b])},result:function(){var a=Nc.length?Nc.length<2?{type:"Point",coordinates:Nc[0]}:{type:"MultiPoint",coordinates:Nc}:null;return Nc=[],a}},Qc={lineStart:Va,point:function(a,b){Nc.push([a,b])},lineEnd:function(){Nc.length&&(Oc.push(Nc),Nc=[])},result:function(){var a=Oc.length?Oc.length<2?{type:"LineString",coordinates:Oc[0]}:{type:"MultiLineString",coordinates:Oc}:null;return Oc=[],a}},Rc={polygonStart:Va,lineStart:Va,point:function(a,b){Nc.push([a,b])},lineEnd:function(){var a=Nc.length;if(a){do Nc.push(Nc[0].slice());while(++a<4);Oc.push(Nc),Nc=[]}},polygonEnd:Va,result:function(){if(!Oc.length)return null;var a=[],b=[];return Oc.forEach(function(c){!function(a){if((b=a.length)<4)return!1;for(var b,c=0,d=a[b-1][1]*a[0][0]-a[b-1][0]*a[0][1];++c<b;)d+=a[c-1][1]*a[c][0]-a[c-1][0]*a[c][1];return d<=0}(c)?b.push(c):a.push([c])}),b.forEach(function(b){var c=b[0];a.some(function(a){if(function(a,b){for(var c=b[0],d=b[1],e=!1,f=0,g=a.length,h=g-1;f<g;h=f++){var i=a[f],j=i[0],k=i[1],l=a[h],m=l[0],n=l[1];k>d^n>d&&c<(m-j)*(d-k)/(n-k)+j&&(e=!e)}return e}(a[0],c))return a.push(b),!0})||a.push([b])}),Oc=[],a.length?a.length>1?{type:"MultiPolygon",coordinates:a}:{type:"Polygon",coordinates:a[0]}:null}},Sc=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Sc.forEach(function(a){a[1]*=1.0144}),ab.invert=function(a,b){var c=b/Qb,d=90*c,e=Hb(18,zb(d/5)),f=Gb(0,Eb(e));do{var g=Sc[f][1],h=Sc[f+1][1],i=Sc[Hb(19,f+2)][1],j=i-g,k=i-2*h+g,l=2*(zb(c)-h)/j,m=k/j,n=l*(1-m*l*(1-2*m*l));if(n>=0||1===f){d=(b>=0?5:-5)*(n+e);var o,p=50;do n=(e=Hb(18,zb(d)/5))-(f=Eb(e)),g=Sc[f][1],h=Sc[f+1][1],i=Sc[Hb(19,f+2)][1],d-=(o=(b>=0?Qb:-Qb)*(h+n*(i-g)/2+n*n*(i-2*h+g)/2)-b)*Wb;while(zb(o)>Ob&&--p>0);break}}while(--f>=0);var q=Sc[f][0],r=Sc[f+1][0],s=Sc[Hb(19,f+2)][0];return[a/(r+n*(s-q)/2+n*n*(s-2*r+q)/2),d*Xb]};var Tc=1e4,Uc=-180,Vc=Uc+1e-4,Wc=180,Xc=Wc-1e-4,Yc=-90,Zc=Yc+1e-4,$c=90,_c=$c-1e-4;kb.invert=function(a,b){var c=b/1.70711,d=Lb(Rb*c);return[a/(.74482-.34588*d*d),2*Ab(c)]},qb.invert=function(a,b){if(zb(b)<Nb)return[a,0];if(zb(a)<Nb)return[0,Qb*Lb(2*Ab(b/Pb))];var c=(a/=Pb)*a,d=(b/=Pb)*b,g=c+d,h=g*g,i=-zb(b)*(1+g),j=i-2*d+c,k=-2*i+1+2*d+h,l=d/k+(2*j*j*j/(k*k*k)-9*i*j/(k*k))/27,m=(i-j*j/(3*k))/k,n=2*f(-m/3),o=e(3*l/(m*n))/3;return[Pb*(g-1+f(1+2*(c-d)+h))/(2*a),Kb(b)*Pb*(-n*Cb(o+Pb/3)-j/(3*k))]},rb.invert=function(a,b){if(!a)return[0,Qb*Lb(2*Ab(b/Pb))];var c=zb(a/Pb),d=(1-c*c-(b/=Pb)*b)/(2*c),e=f(d*d+1);return[Kb(a)*Pb*(e-d),Kb(b)*Qb*Lb(2*Bb(f((1-2*d*c)*(d+e)-c),f(e+d+c)))]},sb.invert=function(a,b){if(!b)return[a,0];var c=b/Pb,d=(Pb*Pb*(1-c*c)-a*a)/(2*Pb*a);return[a?Pb*(Kb(a)*f(d*d+1)-d):0,Qb*Lb(2*Ab(c))]},tb.invert=function(a,b){var c;if(!a||!b)return[a,b];b/=Pb;var d=Kb(a)*a/Qb,e=(d*d-1+4*b*b)/zb(d),g=e*e,h=2*b,i=50;do{var j=h*h,k=(8*h-j*(j+2)-5)/(2*j*(h-1)),l=(3*h-j*h-10)/(2*j*h),m=k*k,n=h*k,o=h+k,p=o*o,q=h+3*k,r=-2*o*(4*n*m+(1-4*j+3*j*j)*(1+l)+m*(14*j-6-g+(8*j-8-2*g)*l)+n*(12*j-8+(10*j-10-g)*l)),s=f(p*(j+m*g-1)+(1-j)*(j*(q*q+4*m)+m*(12*n+4*m)));h-=c=(e*(p+m-1)+2*s-d*(4*p+g))/(e*(2*k*l+2*o*(1+l))+r/s-8*o*(e*(-1+m+p)+2*s)*(1+l)/(g+4*p))}while(c>Nb&&--i>0);return[Kb(a)*(f(e*e+4)+e)*Pb/4,Qb*h]};var ad=4*Pb+3*f(3),bd=2*f(2*Pb*f(3)/ad),cd=s(bd*f(3)/Pb,bd,ad/6);vb.invert=function(a,b){return[a/f(1-3*b*b/(Pb*Pb)),b]},wb.invert=function(a,b){var c=a/2.66723,e=b/1.24104,g=f(c*c+e*e),h=2*d(g/2);return[3*Bb(a*Mb(h),2.66723*g),g&&d(b*Lb(h)/(1.24104*.90631*g))]},xb.invert=function(a,b){var c=(a*a+b*b)/-2,e=f(-c*(2+c)),g=b*c+a*e,h=a*c-b*e,i=f(h*h+g*g);return[Bb(e*g,i*(1+c)),i?-d(e*h/i):0]},yb.invert=function(a,b){var c=a,d=b,g=25;do{var h,i=Cb(d),j=Lb(d),k=Lb(2*d),l=j*j,m=i*i,n=Lb(c),o=Cb(c/2),p=Lb(c/2),q=p*p,r=1-m*o*o,s=r?e(i*o)*f(h=1/r):h=0,t=.5*(2*s*i*p+c/Qb)-a,u=.5*(s*j+d)-b,v=.5*h*(m*q+s*i*o*l)+.5/Qb,w=h*(n*k/4-s*j*p),x=.125*h*(k*p-s*j*m*n),y=.5*h*(l*o+s*q*i)+.5,z=w*x-y*v,A=(u*w-t*y)/z,B=(t*x-u*v)/z;c-=A,d-=B}while((zb(A)>Nb||zb(B)>Nb)&&--g>0);return[c,d]},a.geoNaturalEarth=b.geoNaturalEarth1,a.geoNaturalEarthRaw=b.geoNaturalEarth1Raw,a.geoAiry=function(){var a=Qb,c=b.geoProjectionMutator(i),d=c(a);return d.radius=function(b){return arguments.length?c(a=b*Xb):a*Wb},d.scale(179.976).clipAngle(147)},a.geoAiryRaw=i,a.geoAitoff=function(){return b.geoProjection(j).scale(152.63)},a.geoAitoffRaw=j,a.geoArmadillo=function(){var a=20*Xb,c=a>=0?1:-1,d=Mb(c*a),e=b.geoProjectionMutator(k),f=e(a),g=f.stream;return f.parallel=function(b){return arguments.length?(d=Mb((c=(a=b*Xb)>=0?1:-1)*a),e(a)):a*Wb},f.stream=function(b){var e=f.rotate(),h=g(b),i=(f.rotate([0,0]),g(b)),j=f.precision();return f.rotate(e),h.sphere=function(){i.polygonStart(),i.lineStart();for(var b=-180*c;c*b<180;b+=90*c)i.point(b,90*c);if(a)for(;c*(b-=3*c*j)>=-180;)i.point(b,c*-Bb(Cb(b*Xb/2),d)*Wb);i.lineEnd(),i.polygonEnd()},h},f.scale(218.695).center([0,28.0974])},a.geoArmadilloRaw=k,a.geoAugust=function(){return b.geoProjection(l).scale(66.1603)},a.geoAugustRaw=l,a.geoBaker=function(){return b.geoProjection(m).scale(112.314)},a.geoBakerRaw=m,a.geoBerghaus=function(){var a=5,c=b.geoProjectionMutator(n),e=c(a),f=e.stream,g=-Cb(.01*Xb),h=Lb(.01*Xb);return e.lobes=function(b){return arguments.length?c(a=+b):a},e.stream=function(b){var c=e.rotate(),i=f(b),j=(e.rotate([0,0]),f(b));return e.rotate(c),i.sphere=function(){j.polygonStart(),j.lineStart();for(var b=0,c=360/a,e=2*Pb/a,f=90-180/a,i=Qb;b<a;++b,f-=c,i-=e)j.point(Bb(h*Cb(i),g)*Wb,d(h*Lb(i))*Wb),f<-90?(j.point(-90,-180-f-.01),j.point(-90,-180-f+.01)):(j.point(90,f+.01),j.point(90,f-.01));j.lineEnd(),j.polygonEnd()},i},e.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},a.geoBerghausRaw=n,a.geoBertin1953=function(){var a=b.geoProjection(q());return a.rotate([-16.5,-42]),delete a.rotate,a.scale(176.57).center([7.93,.09])},a.geoBertin1953Raw=q,a.geoBoggs=function(){return b.geoProjection(t).scale(160.857)},a.geoBoggsRaw=t,a.geoBonne=function(){return u(w).scale(123.082).center([0,26.1441]).parallel(45)},a.geoBonneRaw=w,a.geoBottomley=function(){var a=.5,c=b.geoProjectionMutator(x),d=c(a);return d.fraction=function(b){return arguments.length?c(a=+b):a},d.scale(158.837)},a.geoBottomleyRaw=x,a.geoBromley=function(){return b.geoProjection(bc).scale(152.63)},a.geoBromleyRaw=bc,a.geoChamberlin=D,a.geoChamberlinRaw=B,a.geoChamberlinAfrica=function(){return D([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},a.geoCollignon=function(){return b.geoProjection(E).scale(95.6464).center([0,30])},a.geoCollignonRaw=E,a.geoCraig=function(){return u(F).scale(249.828).clipAngle(90)},a.geoCraigRaw=F,a.geoCraster=function(){return b.geoProjection(G).scale(156.19)},a.geoCrasterRaw=G,a.geoCylindricalEqualArea=function(){return u(H).parallel(38.58).scale(195.044)},a.geoCylindricalEqualAreaRaw=H,a.geoCylindricalStereographic=function(){return u(I).scale(124.75)},a.geoCylindricalStereographicRaw=I,a.geoEckert1=function(){return b.geoProjection(J).scale(165.664)},a.geoEckert1Raw=J,a.geoEckert2=function(){return b.geoProjection(K).scale(165.664)},a.geoEckert2Raw=K,a.geoEckert3=function(){return b.geoProjection(L).scale(180.739)},a.geoEckert3Raw=L,a.geoEckert4=function(){return b.geoProjection(M).scale(180.739)},a.geoEckert4Raw=M,a.geoEckert5=function(){return b.geoProjection(N).scale(173.044)},a.geoEckert5Raw=N,a.geoEckert6=function(){return b.geoProjection(O).scale(173.044)},a.geoEckert6Raw=O,a.geoEisenlohr=function(){return b.geoProjection(P).scale(62.5271)},a.geoEisenlohrRaw=P,a.geoFahey=function(){return b.geoProjection(Q).scale(137.152)},a.geoFaheyRaw=Q,a.geoFoucaut=function(){return b.geoProjection(R).scale(135.264)},a.geoFoucautRaw=R,a.geoFoucautSinusoidal=function(){var a=.5,c=b.geoProjectionMutator(T),d=c(a);return d.alpha=function(b){return arguments.length?c(a=+b):a},d.scale(168.725)},a.geoFoucautSinusoidalRaw=T,a.geoGilbert=function(a){function c(a){return f(U(a))}function e(a){c[a]=function(){return arguments.length?(f[a].apply(f,arguments),c):f[a]()}}null==a&&(a=b.geoOrthographic);var f=a(),g=b.geoEquirectangular().scale(Wb).precision(0).clipAngle(null).translate([0,0]);return f.invert&&(c.invert=function(a){return V(f.invert(a))}),c.stream=function(a){var b=f.stream(a),c=g.stream({point:function(a,c){b.point(a/2,d(Mb(-c/2*Xb))*Wb)},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}});return c.sphere=b.sphere,c},c.rotate=function(a){return arguments.length?(g.rotate(a),c):g.rotate()},c.center=function(a){return arguments.length?(f.center(U(a)),c):V(f.center())},e("angle"),e("clipAngle"),e("clipExtent"),e("fitExtent"),e("fitHeight"),e("fitSize"),e("fitWidth"),e("scale"),e("translate"),e("precision"),c.scale(249.5)},a.geoGingery=function(){var a=6,c=30*Xb,e=Cb(c),f=Lb(c),g=b.geoProjectionMutator(W),h=g(c,a),i=h.stream,j=-Cb(.01*Xb),k=Lb(.01*Xb);return h.radius=function(b){return arguments.length?(e=Cb(c=b*Xb),f=Lb(c),g(c,a)):c*Wb},h.lobes=function(b){return arguments.length?g(c,a=+b):a},h.stream=function(b){var c=h.rotate(),g=i(b),l=(h.rotate([0,0]),i(b));return h.rotate(c),g.sphere=function(){l.polygonStart(),l.lineStart();for(var b=0,c=2*Pb/a,g=0;b<a;++b,g-=c)l.point(Bb(k*Cb(g),j)*Wb,d(k*Lb(g))*Wb),l.point(Bb(f*Cb(g-c/2),e)*Wb,d(f*Lb(g-c/2))*Wb);l.lineEnd(),l.polygonEnd()},g},h.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},a.geoGingeryRaw=W,a.geoGinzburg4=function(){return b.geoProjection(fc).scale(149.995)},a.geoGinzburg4Raw=fc,a.geoGinzburg5=function(){return b.geoProjection(gc).scale(153.93)},a.geoGinzburg5Raw=gc,a.geoGinzburg6=function(){return b.geoProjection(hc).scale(130.945)},a.geoGinzburg6Raw=hc,a.geoGinzburg8=function(){return b.geoProjection($).scale(131.747)},a.geoGinzburg8Raw=$,a.geoGinzburg9=function(){return b.geoProjection(ic).scale(131.087)},a.geoGinzburg9Raw=ic,a.geoGringorten=function(){return b.geoProjection(_(aa)).scale(239.75)},a.geoGringortenRaw=aa,a.geoGuyou=function(){return b.geoProjection(_(da)).scale(151.496)},a.geoGuyouRaw=da,a.geoHammer=function(){var a=2,c=b.geoProjectionMutator(o),d=c(a);return d.coefficient=function(b){return arguments.length?c(a=+b):a},d.scale(169.529)},a.geoHammerRaw=o,a.geoHammerRetroazimuthal=function(){var a=0,c=b.geoProjectionMutator(ea),d=c(a),e=d.rotate,f=d.stream,g=b.geoCircle();return d.parallel=function(b){if(!arguments.length)return a*Wb;var e=d.rotate();return c(a=b*Xb).rotate(e)},d.rotate=function(b){return arguments.length?(e.call(d,[b[0],b[1]-a*Wb]),g.center([-b[0],-b[1]]),d):((b=e.call(d))[1]+=a*Wb,b)},d.stream=function(a){return(a=f(a)).sphere=function(){a.polygonStart();var b,c=g.radius(89.99)().coordinates[0],d=c.length-1,e=-1;for(a.lineStart();++e<d;)a.point((b=c[e])[0],b[1]);for(a.lineEnd(),d=(c=g.radius(90.01)().coordinates[0]).length-1,a.lineStart();--e>=0;)a.point((b=c[e])[0],b[1]);a.lineEnd(),a.polygonEnd()},a},d.scale(79.4187).parallel(45).clipAngle(179.999)},a.geoHammerRetroazimuthalRaw=ea,a.geoHealpix=function(){var a=4,d=b.geoProjectionMutator(ga),e=d(a),f=e.stream;return e.lobes=function(b){return arguments.length?d(a=+b):a},e.stream=function(d){var g=e.rotate(),h=f(d),i=(e.rotate([0,0]),f(d));return e.rotate(g),h.sphere=function(){var d,e;b.geoStream((d=180/a,e=[].concat(c.range(-180,180+d/2,d).map(ha),c.range(180,-180-d/2,-d).map(ia)),{type:"Polygon",coordinates:[180===d?e.map(ja):e]}),i)},h},e.scale(239.75)},a.geoHealpixRaw=ga,a.geoHill=function(){var a=1,c=b.geoProjectionMutator(ka),d=c(a);return d.ratio=function(b){return arguments.length?c(a=+b):a},d.scale(167.774).center([0,18.67])},a.geoHillRaw=ka,a.geoHomolosine=function(){return b.geoProjection(ma).scale(152.63)},a.geoHomolosineRaw=ma,a.geoHufnagel=function(){var a=1,c=0,d=45*Xb,e=2,f=b.geoProjectionMutator(na),g=f(a,c,d,e);return g.a=function(b){return arguments.length?f(a=+b,c,d,e):a},g.b=function(b){return arguments.length?f(a,c=+b,d,e):c},g.psiMax=function(b){return arguments.length?f(a,c,d=+b*Xb,e):d*Wb},g.ratio=function(b){return arguments.length?f(a,c,d,e=+b):e},g.scale(180.739)},a.geoHufnagelRaw=na,a.geoHyperelliptical=function(){var a=0,c=2.5,d=1.183136,e=b.geoProjectionMutator(pa),f=e(a,c,d);return f.alpha=function(b){return arguments.length?e(a=+b,c,d):a},f.k=function(b){return arguments.length?e(a,c=+b,d):c},f.gamma=function(b){return arguments.length?e(a,c,d=+b):d},f.scale(152.63)},a.geoHyperellipticalRaw=pa,a.geoInterrupt=sa,a.geoInterruptedBoggs=function(){return sa(t,nc).scale(160.857)},a.geoInterruptedHomolosine=function(){return sa(ma,oc).scale(152.63)},a.geoInterruptedMollweide=function(){return sa($b,pc).scale(169.529)},a.geoInterruptedMollweideHemispheres=function(){return sa($b,qc).scale(169.529).rotate([20,0])},a.geoInterruptedSinuMollweide=function(){return sa(la,rc).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},a.geoInterruptedSinusoidal=function(){return sa(v,sc).scale(152.63).rotate([-20,0])},a.geoKavrayskiy7=function(){return b.geoProjection(ta).scale(158.837)},a.geoKavrayskiy7Raw=ta,a.geoLagrange=function(){var a=.5,c=b.geoProjectionMutator(ua),d=c(a);return d.spacing=function(b){return arguments.length?c(a=+b):a},d.scale(124.75)},a.geoLagrangeRaw=ua,a.geoLarrivee=function(){return b.geoProjection(va).scale(97.2672)},a.geoLarriveeRaw=va,a.geoLaskowski=function(){return b.geoProjection(wa).scale(139.98)},a.geoLaskowskiRaw=wa,a.geoLittrow=function(){return b.geoProjection(xa).scale(144.049).clipAngle(89.999)},a.geoLittrowRaw=xa,a.geoLoximuthal=function(){return u(ya).parallel(40).scale(158.837)},a.geoLoximuthalRaw=ya,a.geoMiller=function(){return b.geoProjection(za).scale(108.318)},a.geoMillerRaw=za,a.geoModifiedStereographic=Ba,a.geoModifiedStereographicRaw=Aa,a.geoModifiedStereographicAlaska=function(){return Ba(uc,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},a.geoModifiedStereographicGs48=function(){return Ba(vc,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},a.geoModifiedStereographicGs50=function(){return Ba(wc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},a.geoModifiedStereographicMiller=function(){return Ba(xc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},a.geoModifiedStereographicLee=function(){return Ba(yc,[165,10]).scale(250).clipAngle(130).center([-165,-10])},a.geoMollweide=function(){return b.geoProjection($b).scale(169.529)},a.geoMollweideRaw=$b,a.geoMtFlatPolarParabolic=function(){return b.geoProjection(Ca).scale(164.859)},a.geoMtFlatPolarParabolicRaw=Ca,a.geoMtFlatPolarQuartic=function(){return b.geoProjection(Da).scale(188.209)},a.geoMtFlatPolarQuarticRaw=Da,a.geoMtFlatPolarSinusoidal=function(){return b.geoProjection(Ea).scale(166.518)},a.geoMtFlatPolarSinusoidalRaw=Ea,a.geoNaturalEarth2=function(){return b.geoProjection(Fa).scale(175.295)},a.geoNaturalEarth2Raw=Fa,a.geoNellHammer=function(){return b.geoProjection(Ga).scale(152.63)},a.geoNellHammerRaw=Ga,a.geoInterruptedQuarticAuthalic=function(){return sa(o(1/0),Bc).rotate([20,0]).scale(152.63)},a.geoNicolosi=function(){return b.geoProjection(Ha).scale(127.267)},a.geoNicolosiRaw=Ha,a.geoPatterson=function(){return b.geoProjection(Ia).scale(139.319)},a.geoPattersonRaw=Ia,a.geoPolyconic=function(){return b.geoProjection(Ja).scale(103.74)},a.geoPolyconicRaw=Ja,a.geoPolyhedral=Oa,a.geoPolyhedralButterfly=function(a){a=a||function(a){var c=b.geoCentroid({type:"MultiPoint",coordinates:a});return b.geoGnomonic().scale(1).translate([0,0]).rotate([-c[0],-c[1]])};var c=Lc.map(function(b){return{face:b,project:a(b)}});return[-1,0,0,1,0,1,4,5].forEach(function(a,b){var d=c[a];d&&(d.children||(d.children=[])).push(c[b])}),Oa(c[0],function(a,b){return c[a<-Pb/2?b<0?6:4:a<0?b<0?2:0:a<Pb/2?b<0?3:1:b<0?7:5]}).angle(-30).scale(101.858).center([0,45])},a.geoPolyhedralCollignon=function(a){a=a||function(a){var c=b.geoCentroid({type:"MultiPoint",coordinates:a});return b.geoProjection(Ra).translate([0,0]).scale(1).rotate(c[1]>0?[-c[0],0]:[180-c[0],180])};var c=Lc.map(function(b){return{face:b,project:a(b)}});return[-1,0,0,1,0,1,4,5].forEach(function(a,b){var d=c[a];d&&(d.children||(d.children=[])).push(c[b])}),Oa(c[0],function(a,b){return c[a<-Pb/2?b<0?6:4:a<0?b<0?2:0:a<Pb/2?b<0?3:1:b<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])},a.geoPolyhedralWaterman=function(a){a=a||function(a){var c=6===a.length?b.geoCentroid({type:"MultiPoint",coordinates:a}):a[0];return b.geoGnomonic().scale(1).translate([0,0]).rotate([-c[0],-c[1]])};var c=Lc.map(function(a){for(var b,c=a.map(Ua),d=c.length,e=c[d-1],f=[],g=0;g<d;++g)b=c[g],f.push(Ta([.9486832980505138*e[0]+.31622776601683794*b[0],.9486832980505138*e[1]+.31622776601683794*b[1],.9486832980505138*e[2]+.31622776601683794*b[2]]),Ta([.9486832980505138*b[0]+.31622776601683794*e[0],.9486832980505138*b[1]+.31622776601683794*e[1],.9486832980505138*b[2]+.31622776601683794*e[2]])),e=b;return f}),d=[],e=[-1,0,0,1,0,1,4,5];c.forEach(function(a,b){for(var f,g,h=Lc[b],i=h.length,j=d[b]=[],k=0;k<i;++k)c.push([h[k],a[(2*k+2)%(2*i)],a[(2*k+1)%(2*i)]]),e.push(b),j.push((f=Ua(a[(2*k+2)%(2*i)]),g=Ua(a[(2*k+1)%(2*i)]),[f[1]*g[2]-f[2]*g[1],f[2]*g[0]-f[0]*g[2],f[0]*g[1]-f[1]*g[0]]))});var f=c.map(function(b){return{project:a(b),face:b}});return e.forEach(function(a,b){var c=f[a];c&&(c.children||(c.children=[])).push(f[b])}),Oa(f[0],function(a,b){var c=Cb(b),e=[c*Cb(a),c*Lb(a),Lb(b)],g=a<-Pb/2?b<0?6:4:a<0?b<0?2:0:a<Pb/2?b<0?3:1:b<0?7:5,h=d[g];return f[Sa(h[0],e)<0?8+3*g:Sa(h[1],e)<0?8+3*g+1:Sa(h[2],e)<0?8+3*g+2:g]}).angle(-30).scale(110.625).center([0,45])},a.geoProject=function(a,b){var c,d=b.stream;if(!d)throw new Error("invalid projection");switch(a&&a.type){case"Feature":c=Xa;break;case"FeatureCollection":c=Wa;break;default:c=Ya}return c(a,d)},a.geoGringortenQuincuncial=function(){return Za(aa).scale(176.423)},a.geoPeirceQuincuncial=$a,a.geoPierceQuincuncial=$a,a.geoQuantize=function(a,b){function c(a){var c=a.length,d=2,e=new Array(c);for(e[0]=+a[0].toFixed(b),e[1]=+a[1].toFixed(b);d<c;)e[d]=a[d],++d;return e}function d(a){for(var b=c(a[0]),d=[b],e=1;e<a.length;e++){var f=c(a[e]);(f.length>2||f[0]!=b[0]||f[1]!=b[1])&&(d.push(f),b=f)}return 1===d.length&&a.length>1&&d.push(c(a[a.length-1])),d}function e(a){return a.map(d)}function f(a){if(null==a)return a;var b;switch(a.type){case"GeometryCollection":b={type:"GeometryCollection",geometries:a.geometries.map(f)};break;case"Point":b={type:"Point",coordinates:c(a.coordinates)};break;case"MultiPoint":b={type:a.type,coordinates:function(a){return a.map(c)}(a.coordinates)};break;case"LineString":b={type:a.type,coordinates:d(a.coordinates)};break;case"MultiLineString":case"Polygon":b={type:a.type,coordinates:e(a.coordinates)};break;case"MultiPolygon":b={type:"MultiPolygon",coordinates:a.coordinates.map(e)};break;default:return a}return null!=a.bbox&&(b.bbox=a.bbox),b}function g(a){var b={type:"Feature",properties:a.properties,geometry:f(a.geometry)};return null!=a.id&&(b.id=a.id),null!=a.bbox&&(b.bbox=a.bbox),b}if(!(0<=(b=+b)&&b<=20))throw new Error("invalid digits");if(null!=a)switch(a.type){case"Feature":return g(a);case"FeatureCollection":var h={type:"FeatureCollection",features:a.features.map(g)};return null!=a.bbox&&(h.bbox=a.bbox),h;default:return f(a)}return a},a.geoQuincuncial=Za,a.geoRectangularPolyconic=function(){return u(_a).scale(131.215)},a.geoRectangularPolyconicRaw=_a,a.geoRobinson=function(){return b.geoProjection(ab).scale(152.63)},a.geoRobinsonRaw=ab,a.geoSatellite=function(){var a=2,c=0,d=b.geoProjectionMutator(bb),f=d(a,c);return f.distance=function(b){return arguments.length?d(a=+b,c):a},f.tilt=function(b){return arguments.length?d(a,c=b*Xb):c*Wb},f.scale(432.147).clipAngle(e(1/a)*Wb-1e-6)},a.geoSatelliteRaw=bb,a.geoSinuMollweide=function(){return b.geoProjection(la).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},a.geoSinuMollweideRaw=la,a.geoSinusoidal=function(){return b.geoProjection(v).scale(152.63)},a.geoSinusoidalRaw=v,a.geoStitch=function(a){if(null==a)return a;switch(a.type){case"Feature":return ib(a);case"FeatureCollection":var b={type:"FeatureCollection",features:a.features.map(ib)};return null!=a.bbox&&(b.bbox=a.bbox),b;default:return jb(a)}},a.geoTimes=function(){return b.geoProjection(kb).scale(146.153)},a.geoTimesRaw=kb,a.geoTwoPointAzimuthal=nb,a.geoTwoPointAzimuthalRaw=mb,a.geoTwoPointAzimuthalUsa=function(){return nb([-158,21.5],[-77,39]).clipAngle(60).scale(400)},a.geoTwoPointEquidistant=pb,a.geoTwoPointEquidistantRaw=ob,a.geoTwoPointEquidistantUsa=function(){return pb([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},a.geoVanDerGrinten=function(){return b.geoProjection(qb).scale(79.4183)},a.geoVanDerGrintenRaw=qb,a.geoVanDerGrinten2=function(){return b.geoProjection(rb).scale(79.4183)},a.geoVanDerGrinten2Raw=rb,a.geoVanDerGrinten3=function(){return b.geoProjection(sb).scale(79.4183)},a.geoVanDerGrinten3Raw=sb,a.geoVanDerGrinten4=function(){return b.geoProjection(tb).scale(127.16)},a.geoVanDerGrinten4Raw=tb,a.geoWagner=function(){var a=65*Xb,c=60*Xb,d=20,e=200,f=b.geoProjectionMutator(ub),g=f(a,c,d,e);return g.poleline=function(b){return arguments.length?f(a=+b*Xb,c,d,e):a*Wb},g.parallels=function(b){return arguments.length?f(a,c=+b*Xb,d,e):c*Wb},g.inflation=function(b){return arguments.length?f(a,c,d=+b,e):d},g.ratio=function(b){return arguments.length?f(a,c,d,e=+b):e},g.scale(163.775)},a.geoWagnerRaw=ub,a.geoWagner4=function(){return b.geoProjection(cd).scale(176.84)},a.geoWagner4Raw=cd,a.geoWagner6=function(){return b.geoProjection(vb).scale(152.63)},a.geoWagner6Raw=vb,a.geoWagner7=function(){return b.geoProjection(wb).scale(172.632)},a.geoWagner7Raw=wb,a.geoWiechel=function(){return b.geoProjection(xb).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},a.geoWiechelRaw=xb,a.geoWinkel3=function(){return b.geoProjection(yb).scale(158.837)},a.geoWinkel3Raw=yb,Object.defineProperty(a,"__esModule",{value:!0})});