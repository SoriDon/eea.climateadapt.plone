<metal:macro define-macro="geochar">
  <!-- Geochar field -->
  <tal:block content="structure python:view.render_geochar(context.geochars)" />
  <tal:fallback tal:condition="python: not(context.geochars)">
    <div tal:content="context/spatial_layer" />
    <div>Countries:</div>
    <ul tal:define="countries python: view.get_countries(context.spatial_values)">
      <li tal:repeat="country countries" tal:content="country" />
    </ul>
  </tal:fallback>
</metal:macro>
